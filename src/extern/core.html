<!DOCTYPE html>
<!--[if lte IE 8]><html class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>core</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
Made in Twine 1.4.2 (running on Windows 8)
Built on 10 Jul 2014 at 13:54:39, -0500

Jonah is based on:

TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Published under a BSD open source license

Copyright (c) Osmosoft Limited 2005

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<script title="engine">
(function(){

function clone(a){var constructor,b,proto;if(!a||typeof a!="object"){return a
}constructor=a.constructor;if(constructor==Date||constructor==RegExp){b=new constructor(a)}else{if(constructor==Array){b=[]}else{if(a.nodeType&&typeof a.cloneNode=="function"){b=a.cloneNode(true)}else{proto=(typeof Object.getPrototypeOf=="function"?Object.getPrototypeOf(a):a.__proto__);b=proto?Object.create(proto):{}}}}for(var property in a){if(Object.prototype.hasOwnProperty.call(a,property)&&!isCyclic(a[property])){if(typeof a[property]=="object"){try{b[property]=clone(a[property]);continue}catch(e){}}b[property]=a[property]}}return b}function isCyclic(obj){var properties=[];return(function recurse(obj){var key,i,ownProps=[];if(obj&&typeof obj=="object"){if(properties.indexOf(obj)>-1){return true
}properties.push(obj);for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)&&recurse(obj[key])){return true
}}}return false}(obj))}function insertElement(a,d,f,c,e){var b=document.createElement(d);if(f){b.id=f}if(c){b.className=c}if(e){insertText(b,e)}if(a){a.appendChild(b)}return b}function addClickHandler(el,fn){if(el.addEventListener){el.addEventListener("click",fn)}else{if(el.attachEvent){el.attachEvent("onclick",fn)}}}function insertText(a,b){return a.appendChild(document.createTextNode(b))}function removeChildren(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function findPassageParent(el){while(el&&el!=document.body&&!~el.className.indexOf("passage")){el=el.parentNode}return el==document.body?null:el}function setPageElement(c,b,a){var place;if(place=(typeof c=="string"?document.getElementById(c):c)){removeChildren(place);if(tale.has(b)){new Wikifier(place,tale.get(b).processText())}else{new Wikifier(place,a)}}}var scrollWindowInterval;function scrollWindowTo(e,margin){var d=window.scrollY?window.scrollY:document.documentElement.scrollTop,m=window.innerHeight?window.innerHeight:document.documentElement.clientHeight,g=k(e),j=(d>g)?-1:1,b=0,c=Math.abs(d-g);scrollWindowInterval&&window.clearInterval(scrollWindowInterval);if(c){scrollWindowInterval=window.setInterval(h,25)}function h(){b+=0.1;window.scrollTo(0,d+j*(c*Math.easeInOut(b)));if(b>=1){window.clearInterval(scrollWindowInterval)}}function k(o){var p=a(o),h=o.offsetHeight,n=d+m;p=Math.min(Math.max(p+(margin||0)*(p<d?-1:1),0),n);if(p<d){return p
}else{if(p+h>n){if(h<m){return(p-(m-h)+20)}else{return p
}}else{return p
}}}function a(l){var m=0;while(l.offsetParent){m+=l.offsetTop;l=l.offsetParent}return m}}function delta(old,neu){var vars,ret={};if(old&&neu){for(vars in neu){if(neu[vars]!==old[vars]){ret[vars]=neu[vars]}}}return ret}function decompile(val){var i,ret;if((typeof val!="object"&&typeof val!="function")||!val){return val
}else{if(val instanceof Passage){return{"[[Passage]]":val.id}}else{if(Array.isArray(val)){ret=[]}else{ret={}}}}for(i in val){if(Object.prototype.hasOwnProperty.call(val,i)&&!isCyclic(val[i])){ret[i]=decompile(val[i])}}if(typeof val=="function"||val instanceof RegExp){try{internalEval(val+"");ret["[[Call]]"]=val+""}catch(e){ret["[[Call]]"]="function(){}"}}return ret}function recompile(val){var i,ret=val;if(val&&typeof val=="object"){if(typeof val["[[Passage]]"]=="number"){return tale.get(val["[[Passage]]"])}if(typeof val["[[Call]]"]=="string"){try{ret=internalEval(val["[[Call]]"])}catch(e){}}for(i in val){if(Object.prototype.hasOwnProperty.call(val,i)){ret[i]=recompile(val[i])}}}return ret}function addStyle(b){if(document.createStyleSheet){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style>"+b+"</style>")}else{var a=document.createElement("style");a.appendChild(document.createTextNode(b));document.getElementsByTagName("head")[0].appendChild(a)}}function alterCSS(text){var temp="",imgPassages=tale.lookup("tags","Twine.image");text=text.replace(/\/\*(?:[^\*]|\*(?!\/))*\*\//g,"");text=text.replace(/:link/g,"[class*=Link]");text=text.replace(/:visited/g,".visitedLink");text=text.replace(/@import\s+(?:url\s*\(\s*['"]?|['"])[^"'\s]+(?:['"]?\s*\)|['"])\s*([\w\s\(\)\d\:,\-]*);/g,function(e){temp+=e;return""});text=temp+text;return text.replace(new RegExp(Wikifier.imageFormatter.lookahead,"gim"),function(m,p1,p2,p3,src){for(var i=0;i<imgPassages.length;i++){if(imgPassages[i].title==src){src=imgPassages[i].text;break}}return"url("+src+")"})}function setTransitionCSS(styleText){styleText=alterCSS(styleText);var style=document.getElementById("transitionCSS");style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText)}function throwError(a,b,tooltip){if(a){var elem=insertElement(a,"span",null,"marked",b);tooltip&&elem.setAttribute("title",tooltip)}else{alert("Regrettably, this "+tale.identity()+"'s code just ran into a problem:\n"+b+".\n"+softErrorMessage)}}Math.easeInOut=function(a){return(1-((Math.cos(a*Math.PI)+1)/2))};String.prototype.readMacroParams=function(keepquotes){var exec,re=/(?:\s*)(?:(?:"([^"]*)")|(?:'([^']*)')|(?:\[\[((?:[^\]]|\](?!\]))*)\]\])|([^"'\s]\S*))/mg,params=[];do{var val;exec=re.exec(this);if(exec){if(exec[1]){val=exec[1];keepquotes&&(val='"'+val+'"')}else{if(exec[2]){val=exec[2];keepquotes&&(val="'"+val+"'")}else{if(exec[3]){val=exec[3];keepquotes&&(val='"'+val.replace('"','\\"')+'"')}else{if(exec[4]){val=exec[4]}}}}val&&params.push(val)}}while(exec);return params};String.prototype.readBracketedList=function(){var c,b="\\[\\[([^\\]]+)\\]\\]",a="[^\\s$]+",e="(?:"+b+")|("+a+")",d=new RegExp(e,"mg"),f=[];do{c=d.exec(this);if(c){if(c[1]){f.push(c[1])}else{if(c[2]){f.push(c[2])}}}}while(c);return(f)};function rot13(s){return s.replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt()+13)?c:c-26)})}Object.create||(function(){var F=function(){};Object.create=function(o){if(typeof o!="object"){throw TypeError()}F.prototype=o;return new F()}})();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});Array.isArray||(Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,d){d=(d==null)?0:d;var a=this.length;for(var c=d;c<a;c++){if(this[c]==b){return c
}}return -1});Array.prototype.forEach||(Array.prototype.forEach=function(fun){if(this==null){throw TypeError()}var t=Object(this);var len=+t.length;if(typeof fun!="function"){throw TypeError()}var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t){fun.call(thisArg,t[i],i,t)}}});(function(){function t(t){this.message=t}var e=window,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=0.75),n>255){throw new t()}o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4){throw new t()}for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0){n=r.indexOf(n)}return c})})();var hasTransition="transition" in document.documentElement.style||"-webkit-transition" in document.documentElement.style;function fade(f,c){var h;var e=f.cloneNode(true);var g=(c.fade=="in")?1:-1;f.parentNode.replaceChild(e,f);if(c.fade=="in"){h=0;e.style.visibility="visible"}else{h=1
}b(e,h);var a=window.setInterval(d,25);function d(){h+=0.05*g;b(e,Math.easeInOut(h));if(((g==1)&&(h>=1))||((g==-1)&&(h<=0))){f.style.visibility=(c.fade=="in")?"visible":"hidden";if(e.parentNode){e.parentNode.replaceChild(f,e)}window.clearInterval(a);if(c.onComplete){c.onComplete.call(f)}}}function b(k,j){var l=Math.floor(j*100);k.style.zoom=1;k.style.filter="alpha(opacity="+l+")";k.style.opacity=j}}function History(){this.history=[{passage:null,variables:{}}];this.id=new Date().getTime()+"";this.hash=""}History.prototype.encodeHistory=function(b,noVars){var ret=".",vars,type,hist=this.history[b],d=this.history[b+1]?delta(this.history[b+1].variables,hist.variables):hist.variables;function vtob(val){try{return window.btoa(unescape(encodeURIComponent(JSON.stringify(decompile(val)))))}catch(e){return"0"
}}if(!hist.passage||hist.passage.id==null){return""
}ret+=hist.passage.id.toString(36);if(noVars){return ret
}for(vars in d){type=typeof d[vars];if(type!="undefined"){ret+="$"+vtob(vars)+","+vtob(d[vars])}}for(vars in hist.linkVars){type=typeof hist.linkVars[vars];if(type!="function"&&type!="undefined"){ret+="["+vtob(vars)+","+vtob(hist.linkVars[vars])}}return ret};History.decodeHistory=function(str,prev){var name,splits,variable,c,d,ret={variables:clone(prev.variables)||{}},match=/([a-z0-9]+)((?:\$[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)((?:\[[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)/g.exec(str);function btov(str){try{return recompile(JSON.parse(decodeURIComponent(escape(window.atob(str)))))}catch(e){return 0
}}if(match){name=parseInt(match[1],36);if(!tale.has(name)){return false
}if(match[2]){ret.variables||(ret.variables={});splits=match[2].split("$");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.variables[d]=btov(variable[1])}}}if(match[3]){ret.linkVars||(ret.linkVars={});splits=match[3].split("[");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.linkVars[d]=btov(variable[1])}}}ret.passage=tale.get(name);return ret}};History.prototype.save=function(){var hist,b,a="";for(b=this.history.length-1;b>=0;b--){hist=this.history[b];if(!hist){break
}a+=this.encodeHistory(b)}return"#"+a};History.prototype.restore=function(){var a,b,c,vars;try{if(!window.location.hash||(window.location.hash=="#")){if(testplay){if(tale.has("StoryInit")){new Wikifier(insertElement(null,"span"),tale.get("StoryInit").text)}this.display(testplay,null,"quietly");return true}return false}if(window.location.hash.substr(0,2)=="#!"){c=window.location.hash.substr(2).split("_").join(" ");this.display(c,null,"quietly");return true}a=window.location.hash.replace("#","").split(".");for(b=0;b<a.length;b++){vars=History.decodeHistory(a[b],vars||{});if(vars){if(b==a.length-1){vars.variables=clone(this.history[0].variables);for(c in this.history[0].linkVars){vars.variables[c]=clone(this.history[0].linkVars[c])}this.history.unshift(vars);this.display(vars.passage.title,null,"back")}else{this.history.unshift(vars)}}}return true}catch(d){return false
}};History.prototype.saveVariables=function(c,el,callback){if(typeof callback=="function"){callback.call(el)}this.history.unshift({passage:c,variables:clone(this.history[0].variables)})};var restart=History.prototype.restart=function(){if(typeof window.history.replaceState=="function"){(typeof this.pushState=="function")&&this.pushState(true,window.location.href.replace(/#.*$/,""));window.location.reload()}else{window.location.hash=""}};var version={major:4,minor:2,revision:0,date:new Date("2014"),extensions:{}};var testplay,tale,state,prerender={},postrender={},macros=window.macros={};version.extensions.displayMacro={major:2,minor:0,revision:0};macros.display={parameters:[],handler:function(place,macroName,params,parser){var t,j,output,oldDisplayParams,name=parser.fullArgs();if(macroName!="display"){output=macroName;params=parser.fullMatch().replace(/^\S*|>>$/g,"").readMacroParams(true);try{for(j=0;j<params.length;j++){params[j]=internalEval(Wikifier.parse(params[j]))}}catch(e){throwError(place,parser.fullMatch()+" bad argument: "+params[j],parser.fullMatch());return}}else{try{output=internalEval(name)}catch(e){}if(output==null){if(tale.has(name)){output=name
}}}if(!output){throwError(place,"<<"+macroName+'>>: "'+name+'" did not evaluate to a passage name',parser.fullMatch())}else{if(!tale.has(output+"")){throwError(place,"<<"+macroName+'>>: The "'+output+'" passage does not exist',parser.fullMatch())}else{oldDisplayParams=this.parameters;this.parameters=params;t=tale.get(output+"");if(t.tags.indexOf("script")>-1){scriptEval(t)}else{new Wikifier(place,t.processText())}this.parameters=oldDisplayParams
}}}};version.extensions.actionsMacro={major:1,minor:2,revision:0};macros.actions={handler:function(a,f,g){var v=state.history[0].variables,e=insertElement(a,"ul");if(!v["actions clicked"]){v["actions clicked"]={}}for(var b=0;b<g.length;b++){if(v["actions clicked"][g[b]]){continue
}var d=insertElement(e,"li");var c=Wikifier.createInternalLink(d,g[b],(function(link){return function(){state.history[0].variables["actions clicked"][link]=true}}(g[b])));insertText(c,g[b])}}};version.extensions.printMacro={major:1,minor:1,revision:1};macros.print={handler:function(place,macroName,params,parser){var args=parser.fullArgs(macroName!="print"),output;try{output=internalEval(args);if(output!=null&&(typeof output!="number"||!isNaN(output))){new Wikifier(place,""+output)}}catch(e){throwError(place,"<<print>> bad expression: "+params.join(" "),parser.fullMatch())}}};version.extensions.setMacro={major:1,minor:1,revision:0};macros.set={handler:function(a,b,c,parser){macros.set.run(a,parser.fullArgs(),parser,c.join(" "))},run:function(a,expression,parser,original){try{return internalEval(expression)}catch(e){throwError(a,"bad expression: "+(original||expression),parser?parser.fullMatch():expression)}}};version.extensions.ifMacros={major:2,minor:0,revision:0};macros["if"]={handler:function(place,macroName,params,parser){var conditions=[],clauses=[],rawConds=[],srcOffset=parser.source.indexOf(">>",parser.matchStart)+2,src=parser.source.slice(srcOffset),endPos=-1,rawCond=params.join(" "),currentCond=parser.fullArgs(),currentClause="",t=0,nesting=0,i=0;for(;i<src.length;i++){if((src.substr(i,6)=="<<else")&&!nesting){rawConds.push(rawCond);conditions.push(currentCond.trim());clauses.push(currentClause);currentClause="";t=src.indexOf(">>",i+6);if(src.substr(i+6,4)==" if "||src.substr(i+6,3)=="if "){rawCond=src.slice(i+9,t);currentCond=Wikifier.parse(rawCond)}else{rawCond="";currentCond="true"}i=t+2}if(src.substr(i,5)=="<<if "){nesting++
}if(src.substr(i,9)=="<<endif>>"){nesting--;if(nesting<0){endPos=srcOffset+i+9;rawConds.push(rawCond);conditions.push(currentCond.trim());clauses.push(currentClause);break}}currentClause+=src.charAt(i)}if(endPos!=-1){parser.nextMatch=endPos;try{for(i=0;i<clauses.length;i++){if(internalEval(conditions[i])){new Wikifier(place,clauses[i]);break}}}catch(e){throwError(place,"<<"+(i?"else ":"")+"if>> bad condition: "+rawConds[i],!i?parser.fullMatch():"<<else if "+rawConds[i]+">>")}}else{throwError(place,"I can't find a matching <<endif>>",parser.fullMatch())}}};macros["else"]=macros.elseif=macros.endif={handler:function(){}};version.extensions.rememberMacro={major:2,minor:0,revision:0};macros.remember={handler:function(place,macroName,params,parser){var variable,value,re,match,statement=params.join(" ");macros.set.run(place,parser.fullArgs(),null,params.join(" "));if(!window.localStorage){throwError(place,"<<remember>> can't be used "+(window.location.protocol=="file:"?" by local HTML files ":"")+" in this browser.",parser.fullMatch());return}re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1];value=state.history[0].variables[variable];try{value=JSON.stringify(value)}catch(e){throwError(place,"can't <<remember>> the variable $"+variable+" ("+(typeof value)+")",parser.fullMatch());return}window.localStorage[this.prefix+variable]=value}},init:function(){var i,variable,value;if(tale.has("StoryTitle")){this.prefix="Twine."+tale.title+"."}else{this.prefix="Twine.Untitled Story."}for(i in window.localStorage){if(i.indexOf(this.prefix)==0){variable=i.substr(this.prefix.length);value=window.localStorage[i];try{value=JSON.parse(value);state.history[0].variables[variable]=value}catch(e){}}}},expire:null,prefix:null};version.extensions.forgetMacro={major:1,minor:0,revision:0};macros.forget={handler:function(place,macroName,params){var re,match,variable,statement=params.join(" ");re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1]+"";delete state.history[0].variables[variable];delete window.localStorage[macros.remember.prefix+variable]}}};version.extensions.SilentlyMacro={major:1,minor:1,revision:0};macros.nobr=macros.silently={handler:function(place,macroName,f,parser){var i,h=insertElement(null,"div"),k=parser.source.indexOf(">>",parser.matchStart)+2,a=parser.source.slice(k),d=-1,c="",l=0;for(i=0;i<a.length;i++){if(a.substr(i,macroName.length+7)=="<<end"+macroName+">>"){if(l==0){d=k+i+macroName.length+7;break}else{l--
}}else{if(a.substr(i,macroName.length+4)=="<<"+macroName+">>"){l++
}}if(macroName=="nobr"&&a.charAt(i)=="\n"){c+="\u200c"}else{c+=a.charAt(i)}}if(d!=-1){new Wikifier(macroName=="nobr"?place:h,c);parser.nextMatch=d}else{throwError(place,"can't find matching <<end"+macroName+">>",parser.fullMatch())}}};macros.endsilently={handler:function(){}};version.extensions.choiceMacro={major:2,minor:0,revision:0};macros.choice={callback:function(){var i,other,passage=findPassageParent(this);if(passage){other=passage.querySelectorAll(".choice");for(i=0;i<other.length;i++){other[i].outerHTML="<span class=disabled>"+other[i].innerHTML+"</span>"}state.history[0].variables["choice clicked"][passage.id.replace(/\|[^\]]*$/,"")]=true}},handler:function(A,C,D,parser){var link,id,match,text=D[1]||D[0].split("|")[0],passage=findPassageParent(A);if(!passage){throwError(A,"<<"+C+">> can't be used here.",parser.fullMatch());return}id=(passage&&passage.id.replace(/\|[^\]]*$/,""));if(id&&(state.history[0].variables["choice clicked"]||(state.history[0].variables["choice clicked"]={}))[id]){insertElement(A,"span",null,"disabled",text)}else{match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){link=Wikifier.linkFormatter.makeLink(A,match,this.callback)}else{link=Wikifier.linkFormatter.makeLink(A,[0,text,D[0]],this.callback)}link.className+=" "+C}}};version.extensions.backMacro={major:2,minor:0,revision:0};macros.back={labeltext:"&#171; back",handler:function(a,b,e,parser){var labelParam,c,el,labeltouse=this.labeltext,steps=1,stepsParam=e.indexOf("steps"),stepsParam2="";if(stepsParam>0){stepsParam2=e[stepsParam-1];if(stepsParam2[0]=="$"){try{stepsParam2=internalEval(Wikifier.parse(stepsParam2))}catch(r){throwError(a,parser.fullMatch()+" bad expression: "+r.message,parser.fullMatch());return}}steps=+stepsParam2;if(steps>=state.history.length-1){steps=state.history.length-2}e.splice(stepsParam-1,2)}labelParam=e.indexOf("label");if(labelParam>-1){if(!e[labelParam+1]){throwError(a,parser.fullMatch()+": "+e[labelParam]+" keyword needs an additional label parameter",parser.fullMatch());return}labeltouse=e[labelParam+1];e.splice(labelParam,2)}if(stepsParam<=0){if(e[0]){if(e[0].charAt(0)=="$"){try{e=internalEval(Wikifier.parse(e[0]))}catch(r){throwError(a,parser.fullMatch()+" bad expression: "+r.message,parser.fullMatch());return}}else{e=e[0]}if(!tale.has(e)){throwError(a,'The "'+e+'" passage does not exist',parser.fullMatch());return}for(c=0;c<state.history.length;c++){if(state.history[c].passage.title==e){steps=c;break}}}}el=document.createElement("a");el.className=b;addClickHandler(el,(function(b){return function(){return macros.back.onclick(b=="back",steps,el)}}(b)));el.innerHTML=labeltouse;a.appendChild(el)}};version.extensions.returnMacro={major:2,minor:0,revision:0};macros["return"]={labeltext:"&#171; return",handler:function(a,b,e){macros.back.handler.call(this,a,b,e)}};version.extensions.textInputMacro={major:2,minor:0,revision:0};macros.checkbox=macros.radio=macros.textinput={handler:function(A,C,D,parser){var match,class_=C.replace("input","Input"),q=A.querySelectorAll("input"),id=class_+"|"+((q&&q.length)||0);input=insertElement(null,"input",id,class_);input.name=D[0];input.type=C.replace("input","");A.appendChild(input);if(C=="textinput"&&D[1]){match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){Wikifier.linkFormatter.makeLink(A,match,macros.button.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,(D[2]||D[1]),D[1]],macros.button.callback,"button")}}else{if((C=="radio"||C=="checkbox")&&D[1]){input.value=D[1];insertElement(A,"label","","",D[1]).setAttribute("for",id);if(D[2]){insertElement(A,"br");D.splice(1,1);macros[C].handler(A,C,D)}}}}};version.extensions.buttonMacro={major:1,minor:0,revision:0};macros.button={callback:function(){var el=findPassageParent(this);if(el){var inputs=el.querySelectorAll("input");for(i=0;i<inputs.length;i++){if(inputs[i].type!="checkbox"&&(inputs[i].type!="radio"||inputs[i].checked)){macros.set.run(null,Wikifier.parse(inputs[i].name+' = "'+inputs[i].value.replace(/"/g,'\\"')+'"'))}else{if(inputs[i].type=="checkbox"&&inputs[i].checked){macros.set.run(null,Wikifier.parse(inputs[i].name+" = [].concat("+inputs[i].name+" || []);"));macros.set.run(null,Wikifier.parse(inputs[i].name+'.push("'+inputs[i].value.replace(/"/g,'\\"')+'")'))}}}}},handler:function(A,C,D,parser){var link,match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){Wikifier.linkFormatter.makeLink(A,match,this.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,D[1]||D[0],D[0]],this.callback,"button")}}};function Passage(c,b,a,ofunc){var t;if(!this||this.constructor!=Passage){throw new ReferenceError("passage() must be in lowercase")}this.title=c;ofunc=typeof ofunc=="function"&&ofunc;if(b){this.id=a;this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){if(ofunc){this.tags=ofunc(this.tags)}this.tags=this.tags.readBracketedList()}else{this.tags=[]}t=b.firstChild?b.firstChild.nodeValue:"";if(ofunc&&!this.isImage()){this.text=ofunc(Passage.unescapeLineBreaks(t))}else{this.text=Passage.unescapeLineBreaks(t)}if(!this.isImage()){this.preloadImages()}if(/\.char\b|\[data\-char\b/.exec(this.text)&&Wikifier.charSpanFormatter){Wikifier.formatters.push(Wikifier.charSpanFormatter);delete Wikifier.charSpanFormatter}}else{this.text="@@This passage does not exist: "+c+"@@";this.tags=[]}}Passage.prototype.isImage=function(){return !!~(this.tags.indexOf("Twine.image"))};Passage.prototype.preloadImages=function(){var u="\\s*['\"]?([^\"'$]+\\.(jpe?g|a?png|gif|bmp|webp|svg))['\"]?\\s*",k=function(c,e){var i,d;do{d=c.exec(this.text);if(d){i=new Image();i.src=d[e]}}while(d);return k};k.call(this,new RegExp(Wikifier.imageFormatter.lookahead.replace("[^\\[\\]\\|]+",u),"mg"),4).call(this,new RegExp("url\\s*\\("+u+"\\)","mig"),1).call(this,new RegExp("src\\s*="+u,"mig"),1)};Passage.unescapeLineBreaks=function(a){if(a&&typeof a=="string"){return a.replace(/\\n/mg,"\n").replace(/\\t/mg,"\t").replace(/\\s/mg,"\\").replace(/\\/mg,"\\").replace(/\r/mg,"")}else{return""
}};Passage.prototype.setTags=function(b){var t=this.tags!=null&&this.tags.length?this.tags.join(" "):"";if(t){b.setAttribute("data-tags",this.tags.join(" "))}document.body.setAttribute("data-tags",t)};Passage.prototype.processText=function(){var ret=this.text;if(~this.tags.indexOf("nobr")){ret=ret.replace(/\n/g,"\u200c")}if(this.isImage()){ret="[img["+ret+"]]"}return ret};function Tale(){var a,b,c,lines,i,kv,nsc,isImage,settings=this.storysettings={lookup:function(a,dfault){if(!(a in this)){return dfault
}return(this[a]+"")!="off"}},tiddlerTitle="";window.tale=this;this.passages={};if(document.normalize){document.normalize()}a=document.getElementById("storeArea").children;for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&c.getAttribute("tiddler")=="StorySettings"){lines=new Passage("StorySettings",c,0,null,null).text.split("\n");for(i in lines){if(typeof lines[i]=="string"&&lines[i].indexOf(":")>-1){kv=lines[i].toLowerCase().split(":");kv[0]=kv[0].replace(/^\s+|\s+$/g,"");kv[1]=kv[1].replace(/^\s+|\s+$/g,"");if(kv[0]!="lookup"){settings[kv[0]]=kv[1]}}}}}if(settings.obfuscate=="rot13"){for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){isImage=(c.getAttribute("tags")+"").indexOf("Twine.image")>-1;if(tiddlerTitle!="StorySettings"&&!isImage){tiddlerTitle=rot13(tiddlerTitle)}this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b+1,!isImage&&rot13)
}}}else{for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b,null,null)}}}}Tale.prototype.has=function(a){if(typeof a=="string"){return(this.passages[a]!=null)}else{for(var i in this.passages){if(this.passages[i].id==a){return true
}}return false}};Tale.prototype.get=function(a){if(typeof a=="string"){return this.passages[a]||new Passage(a)}else{for(var i in this.passages){if(this.passages[i].id==a){return this.passages[i]}}}};Tale.prototype.lookup=function(h,g,a){var d=[];for(var c in this.passages){var f=this.passages[c];for(var b=0;b<f[h].length;b++){if(f[h][b]==g){d.push(f)}}}if(!a){a="title"
}d.sort(function(k,j){if(k[a]==j[a]){return(0)}else{return(k[a]<j[a])?-1:+1}});return d};Tale.prototype.canUndo=function(){return this.storysettings.lookup("undo",true)};Tale.prototype.identity=function(){var meta=document.querySelector("meta[name='identity']"),identity=meta?meta.getAttribute("content"):"story";return(Tale.prototype.identity=function(){return identity
})()};Tale.prototype.forEachStylesheet=function(tags,callback){var passage,i;tags=tags||[];if(typeof callback!="function"){return
}for(passage in this.passages){passage=tale.passages[passage];if(passage&&~passage.tags.indexOf("stylesheet")){for(i=0;i<tags.length;i++){if(~passage.tags.indexOf(tags[i])){callback(passage);break}}}}};Tale.prototype.setPageElements=function(){var storyTitle,defaultTitle="core";setPageElement("storyTitle","StoryTitle",defaultTitle);storyTitle=document.getElementById("storyTitle");document.title=this.title=(storyTitle&&(storyTitle.textContent||storyTitle.innerText))||defaultTitle;setPageElement("storySubtitle","StorySubtitle","");if(tale.has("StoryAuthor")){setPageElement("titleSeparator",null,"\n");setPageElement("storyAuthor","StoryAuthor","")}if(tale.has("StoryMenu")){document.getElementById("storyMenu").setAttribute("style","");setPageElement("storyMenu","StoryMenu","")}};function Wikifier(place,source){this.source=source;this.output=place;this.nextMatch=0;this.assembleFormatterMatches(Wikifier.formatters);this.subWikify(this.output)}Wikifier.textPrimitives={upperLetter:"[A-Z\u00c0-\u00de\u0150\u0170]",lowerLetter:"[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]",anyLetter:"[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"};Wikifier.textPrimitives.variable="\\$((?:"+Wikifier.textPrimitives.anyLetter.replace("\\-","")+"*"+Wikifier.textPrimitives.anyLetter.replace("0-9\\-","")+"+"+Wikifier.textPrimitives.anyLetter.replace("\\-","")+"*)+)";Wikifier.textPrimitives.unquoted="(?=(?:[^\"'\\\\]*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"))*[^'\"]*$)";Wikifier.prototype.assembleFormatterMatches=function(formatters){this.formatters=[];var pattern=[];for(var n=0;n<formatters.length;n++){pattern.push("("+formatters[n].match+")");this.formatters.push(formatters[n])}this.formatterRegExp=new RegExp(pattern.join("|"),"mg")};Wikifier.prototype.subWikify=function(output,terminator){var terminatorMatch,formatterMatch,oldOutput=this.output;this.output=output;var terminatorRegExp=terminator?new RegExp("("+terminator+")","mg"):null;do{this.formatterRegExp.lastIndex=this.nextMatch;if(terminatorRegExp){terminatorRegExp.lastIndex=this.nextMatch}formatterMatch=this.formatterRegExp.exec(this.source);terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null;if(terminatorMatch&&(!formatterMatch||terminatorMatch.index<=formatterMatch.index)){if(terminatorMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,terminatorMatch.index)}this.matchStart=terminatorMatch.index;this.matchLength=terminatorMatch[1].length;this.matchText=terminatorMatch[1];this.nextMatch=terminatorMatch.index+terminatorMatch[1].length;this.output=oldOutput;return}else{if(formatterMatch){if(formatterMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,formatterMatch.index)}this.matchStart=formatterMatch.index;this.matchLength=formatterMatch[0].length;this.matchText=formatterMatch[0];this.nextMatch=this.formatterRegExp.lastIndex;var matchingFormatter=-1;for(var t=1;t<formatterMatch.length;t++){if(formatterMatch[t]){matchingFormatter=t-1;break}}if(matchingFormatter!=-1){this.formatters[matchingFormatter].handler(this)}}}}while(terminatorMatch||formatterMatch);if(this.nextMatch<this.source.length){this.outputText(this.output,this.nextMatch,this.source.length);this.nextMatch=this.source.length}this.output=oldOutput};Wikifier.prototype.outputText=function(place,startPos,endPos){if(place){insertText(place,this.source.substring(startPos,endPos))}};Wikifier.prototype.fullMatch=function(){return this.source.slice(this.matchStart,this.source.indexOf(">>",this.matchStart)+2)};Wikifier.prototype.fullArgs=function(includeName){var source=this.source.replace(/\u200c/g," "),endPos=this.nextMatch-2,startPos=source.indexOf(includeName?"<<":" ",this.matchStart);if(!~startPos||!~endPos||endPos<=startPos){return""
}return Wikifier.parse(source.slice(startPos+(includeName?2:1),endPos).trim())};Wikifier.parse=function(input){var m,re,b=input,found=[],g=Wikifier.textPrimitives.unquoted;function alter(from,to){b=b.replace(new RegExp(from+g,"gim"),to);return alter}re=new RegExp(Wikifier.textPrimitives.variable+g,"gi");while(m=re.exec(input)){if(!~found.indexOf(m[0])){b=m[0]+" == null && ("+m[0]+" = 0);"+b;found.push(m[0])}}alter(Wikifier.textPrimitives.variable,"state.history[0].variables.$1")("\\beq\\b"," == ")("\\bneq\\b"," != ")("\\bgt\\b"," > ")("\\bgte\\b"," >= ")("\\blt\\b"," < ")("\\blte\\b"," <= ")("\\band\\b"," && ")("\\bor\\b"," || ")("\\bnot\\b"," ! ")("\\bis\\b"," == ")("\\bto\\b"," = ");return b};Wikifier.formatHelpers={charFormatHelper:function(a){var b=insertElement(a.output,this.element);a.subWikify(b,this.terminator)},inlineCssHelper:function(w){var s,v,lookaheadMatch,gotMatch,styles=[],lookahead=Wikifier.styleByCharFormatter.lookahead,lookaheadRegExp=new RegExp(lookahead,"mg"),hadStyle=false,unDash=function(str){var s=str.split("-");if(s.length>1){for(var t=1;t<s.length;t++){s[t]=s[t].substr(0,1).toUpperCase()+s[t].substr(1)}}return s.join("")};styles.className="";do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);gotMatch=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(gotMatch){hadStyle=true;if(lookaheadMatch[5]){styles.className+=lookaheadMatch[5].replace(/\./g," ")+" "}else{if(lookaheadMatch[1]){s=unDash(lookaheadMatch[1]);v=lookaheadMatch[2]}else{s=unDash(lookaheadMatch[3]);v=lookaheadMatch[4]}}switch(s){case"bgcolor":s="backgroundColor";break;case"float":s="cssFloat";break}styles.push({style:s,value:v});w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}while(gotMatch);return styles},monospacedByLineHelper:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){insertElement(w.output,"pre",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}};Wikifier.formatters=[{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",lookahead:"^\\|([^\\n]*)\\|([fhc]?)$",rowTerminator:"\\|(?:[fhc]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{"c":"caption","h":"thead","":"tbody","f":"tfoot"},handler:function(w){var rowContainer,rowElement,lookaheadMatch,matched,table=insertElement(w.output,"table"),lookaheadRegExp=new RegExp(this.lookahead,"mg"),currRowType=null,nextRowType,prevColumns=[],rowCount=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source),matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){nextRowType=lookaheadMatch[2];if(nextRowType!=currRowType){rowContainer=insertElement(table,this.rowTypes[nextRowType])}currRowType=nextRowType;if(currRowType=="c"){if(rowCount==0){rowContainer.setAttribute("align","top")}else{rowContainer.setAttribute("align","bottom")}w.nextMatch=w.nextMatch+1;w.subWikify(rowContainer,this.rowTerminator)}else{rowElement=insertElement(rowContainer,"tr");this.rowHandler(w,rowElement,prevColumns)}rowCount++}}while(matched)},rowHandler:function(w,e,prevColumns){var cellMatch,matched,col=0,currColCount=1,cellRegExp=new RegExp(this.cellPattern,"mg");do{cellRegExp.lastIndex=w.nextMatch;cellMatch=cellRegExp.exec(w.source);matched=cellMatch&&cellMatch.index==w.nextMatch;if(matched){if(cellMatch[1]=="~"){var last=prevColumns[col];if(last){last.rowCount++;last.element.setAttribute("rowSpan",last.rowCount);last.element.setAttribute("rowspan",last.rowCount);last.element.valign="center"}w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[1]==">"){currColCount++;w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}else{var spaceLeft=false,spaceRight=false,lastColCount,lastColElement,styles,cell,t;w.nextMatch++;styles=Wikifier.formatHelpers.inlineCssHelper(w);while(w.source.substr(w.nextMatch,1)==" "){spaceLeft=true;w.nextMatch++}if(w.source.substr(w.nextMatch,1)=="!"){cell=insertElement(e,"th");w.nextMatch++}else{cell=insertElement(e,"td")}prevColumns[col]={rowCount:1,element:cell};lastColCount=1;lastColElement=cell;if(currColCount>1){cell.setAttribute("colSpan",currColCount);cell.setAttribute("colspan",currColCount);currColCount=1}for(t=0;t<styles.length;t++){cell.style[styles[t].style]=styles[t].value}w.subWikify(cell,this.cellTerminator);if(w.matchText.substr(w.matchText.length-2,1)==" "){spaceRight=true
}if(spaceLeft&&spaceRight){cell.align="center"}else{if(spaceLeft){cell.align="right"}else{if(spaceRight){cell.align="left"}}}w.nextMatch=w.nextMatch-1}}}col++}}while(matched)}},{name:"rule",match:"^----$\\n?",handler:function(w){insertElement(w.output,"hr")}},{name:"emdash",match:"--",becomes:String.fromCharCode(8212),handler:function(a){insertElement(a.output,"span",null,"char",this.becomes).setAttribute("data-char","emdash")}},{name:"heading",match:"^!{1,5}",terminator:"\\n",handler:function(w){var e=insertElement(w.output,"h"+w.matchLength);w.subWikify(e,this.terminator)}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){var e=insertElement(w.output,"blockquote");w.subWikify(e,this.terminator)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",handler:function(w){var newType,newLevel,t,len,bulletType,lookaheadMatch,matched,lookaheadRegExp=new RegExp(this.lookahead,"mg"),placeStack=[w.output],currType=null,currLevel=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){newLevel=lookaheadMatch[0].length;if(lookaheadMatch[1]){bulletType=lookaheadMatch[1].slice(-1);newType="ul"}else{if(lookaheadMatch[2]){newType="ol"
}}w.nextMatch+=newLevel;if(newLevel>currLevel){for(t=currLevel;t<newLevel;t++){placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}else{if(newLevel<currLevel){for(t=currLevel;t>newLevel;t--){placeStack.pop()}}else{if(newLevel==currLevel&&newType!=currType){placeStack.pop();placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}}currLevel=newLevel;currType=newType;t=insertElement(placeStack[placeStack.length-1],"li");if(bulletType&&bulletType!="*"){t.setAttribute("data-bullet",bulletType)}w.subWikify(t,this.terminator)}}while(matched)}},(Wikifier.urlFormatter={name:"urlLink",match:"(?:https?|mailto|javascript|ftp|data):[^\\s'\"]+(?:/|\\b)",handler:function(w){var e=Wikifier.createExternalLink(w.output,w.matchText);w.outputText(e,w.matchStart,w.nextMatch)}}),(Wikifier.linkFormatter={name:"prettyLink",match:"\\[\\[",lookahead:"\\[\\[([^\\|]*?)(?:\\|(.*?))?\\](?:\\[(.*?)])?\\]",makeInternalOrExternal:function(out,title,callback,type){if(title&&!tale.has(title)&&(title.match(Wikifier.urlFormatter.match,"g")||~title.search(/[\.\\\/#]/))){return Wikifier.createExternalLink(out,title,callback,type)
}else{return Wikifier.createInternalLink(out,title,callback,type)}},makeCallback:function(code,callback){return function(){macros.set.run(null,Wikifier.parse(code),null,code);typeof callback=="function"&&callback.call(this)}},makeLink:function(out,match,callback2,type){var link,title,callback;if(match[3]){callback=this.makeCallback(match[3],callback2)}else{typeof callback2=="function"&&(callback=callback2)}title=Wikifier.parsePassageTitle(match[2]||match[1]);link=this.makeInternalOrExternal(out,title,callback,type);setPageElement(link,null,match[2]?match[1]:title);return link},handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){this.makeLink(w.output,lookaheadMatch);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),(Wikifier.imageFormatter={name:"image",match:"\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",lookahead:"\\[([<]?)(>?)img\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",importedImage:function(img,passageName){var imgPassages,imgname;try{imgname=internalEval(Wikifier.parse(passageName))}catch(e){}if(!imgname){imgname=passageName
}imgPassages=tale.lookup("tags","Twine.image");for(j=0;j<imgPassages.length;j++){if(imgPassages[j].title==imgname){img.src=imgPassages[j].text;break}}},handler:function(w){var e,img,j,lookaheadMatch,lookaheadRegExp=new RegExp(this.lookahead,"mig");lookaheadRegExp.lastIndex=w.matchStart;lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){e=w.output,title=Wikifier.parsePassageTitle(lookaheadMatch[5]);if(title){e=Wikifier.linkFormatter.makeInternalOrExternal(w.output,title)}img=insertElement(e,"img");if(lookaheadMatch[1]){img.align="left"}else{if(lookaheadMatch[2]){img.align="right"}}if(lookaheadMatch[3]){img.title=lookaheadMatch[3]}this.importedImage(img,lookaheadMatch[4]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),{name:"macro",match:"<<",lookahead:/<<([^>\s]+)(?:\s*)((?:\\.|'(?:[^'\\]*\\.)*[^'\\]*'|"(?:[^"\\]*\\.)*[^"\\]*"|[^'"\\>]|>(?!>))*)>>/mg,handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead);lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source.replace(/\u200c/g,"\n"));if(lookaheadMatch&&lookaheadMatch.index==w.matchStart&&lookaheadMatch[1]){var params=lookaheadMatch[2].readMacroParams();w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length;var name=lookaheadMatch[1];try{var macro=macros[name];if(macro&&typeof macro=="object"&&macro.handler){macro.handler(w.output,name,params,w)}else{if(name[0]=="$"){macros.print.handler(w.output,name,[name].concat(params),w)}else{if(tale.has(name)){macros.display.handler(w.output,name,[name].concat(params),w)}else{throwError(w.output,'No macro or passage called "'+name+'"',w.fullMatch())}}}}catch(e){throwError(w.output,"Error executing macro "+name+": "+e.toString(),w.fullMatch())}}}},{name:"html",match:"<html>",lookahead:"<html>((?:.|\\n)*?)</html>",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"span");e.innerHTML=lookaheadMatch[1];w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"commentByBlock",match:"/%",lookahead:"/%((?:.|\\n)*?)%/",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"boldByChar",match:"''",terminator:"''",element:"strong",handler:Wikifier.formatHelpers.charFormatHelper},{name:"strikeByChar",match:"==",terminator:"==",element:"strike",handler:Wikifier.formatHelpers.charFormatHelper},{name:"underlineByChar",match:"__",terminator:"__",element:"u",handler:Wikifier.formatHelpers.charFormatHelper},{name:"italicByChar",match:"//",terminator:"//",element:"em",handler:Wikifier.formatHelpers.charFormatHelper},{name:"subscriptByChar",match:"~~",terminator:"~~",element:"sub",handler:Wikifier.formatHelpers.charFormatHelper},{name:"superscriptByChar",match:"\\^\\^",terminator:"\\^\\^",element:"sup",handler:Wikifier.formatHelpers.charFormatHelper},{name:"monospacedByChar",match:"\\{\\{\\{",lookahead:"\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"code",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},(Wikifier.styleByCharFormatter={name:"styleByChar",match:"@@",terminator:"@@",lookahead:"(?:([^\\(@]+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:([^\\.:@]+):([^;\\|\\n]+);)|(?:\\.([^;\\|\\n]+);)",handler:function(w){var e=insertElement(w.output,"span",null,null,null);var styles=Wikifier.formatHelpers.inlineCssHelper(w);if(styles.length==0){e.className="marked"}else{for(var t=0;t<styles.length;t++){e.style[styles[t].style]=styles[t].value}if(typeof styles.className=="string"){e.className=styles.className}}w.subWikify(e,this.terminator)}}),{name:"lineBreak",match:"\\n",handler:function(w){insertElement(w.output,"br")}},{name:"continuedLine",match:"\\\\\\s*?\\n",handler:function(a){a.nextMatch=a.matchStart+2}},{name:"htmlCharacterReference",match:"(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",handler:function(w){var el=document.createElement("div");el.innerHTML=w.matchText;insertText(w.output,el.textContent)}},{name:"htmltag",match:"<(?:\\/?[\\w\\-]+|[\\w\\-]+(?:(?:\\s+[\\w\\-]+(?:\\s*=\\s*(?:\\\".*?\\\"|'.*?'|[^'\\\">\\s]+))?)+\\s*|\\s*)\\/?)>",tagname:"<(\\w+)",voids:["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],tableElems:["table","thead","tbody","tfoot","th","tr","td","colgroup","col","caption","figcaption"],cleanupTables:function(e){var i,name,elems=[].slice.call(e.children);for(i=0;i<elems.length;i++){if(elems[i].tagName){name=elems[i].tagName.toLowerCase();if(this.tableElems.indexOf(name)==-1){elems[i].outerHTML=""}else{if(["col","caption","figcaption","td","th"].indexOf(name)==-1){this.cleanupTables.call(this,elems[i])}}}}},handler:function(a){var tmp,passage,setter,e,isvoid,isstyle,lookaheadRegExp,lookaheadMatch,lookahead,re=new RegExp(this.tagname).exec(a.matchText),tn=re&&re[1]&&re[1].toLowerCase();if(tn&&tn!="html"){lookahead="<\\/\\s*"+tn+"\\s*>";isvoid=(this.voids.indexOf(tn)!=-1);isstyle=tn=="style"||tn=="script";lookaheadRegExp=new RegExp(lookahead,"mg");lookaheadRegExp.lastIndex=a.matchStart;lookaheadMatch=lookaheadRegExp.exec(a.source);if(lookaheadMatch||isvoid){if(isstyle){e=document.createElement(tn);e.type="text/css";tmp=a.source.slice(a.nextMatch,lookaheadMatch.index);e.styleSheet?(e.styleSheet.cssText=tmp):(e.innerHTML=tmp);a.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}else{e=document.createElement(a.output.tagName);e.innerHTML=a.matchText;while(e.firstChild){e=e.firstChild}if(!isvoid){a.subWikify(e,lookahead)}}if(e.tagName.toLowerCase()=="table"){this.cleanupTables.call(this,e)}if(setter=e.getAttribute("data-setter")){setter=Wikifier.linkFormatter.makeCallback(setter)}if(passage=e.getAttribute("data-passage")){if(tn!="img"){addClickHandler(e,Wikifier.linkFunction(Wikifier.parsePassageTitle(passage),e,setter));if(tn=="area"||tn=="a"){e.setAttribute("href","javascript:;")}}else{Wikifier.imageFormatter.importedImage(e,passage)}}a.output.appendChild(e)}else{throwError(a.output,"HTML tag '"+tn+"' wasn't closed.",a.matchText)}}}}];Wikifier.charSpanFormatter={name:"char",match:"[^\n]",handler:function(a){insertElement(a.output,"span",null,"char",a.matchText).setAttribute("data-char",a.matchText==" "?"space":a.matchText=="\t"?"tab":a.matchText)}};Wikifier.parsePassageTitle=function(title){if(title&&!tale.has(title)){try{title=(internalEval(this.parse(title))||title)+""}catch(e){}}return title};Wikifier.linkFunction=function(title,el,callback){return function(){if(state.rewindTo){var passage=findPassageParent(el);if(passage&&passage.parentNode.lastChild!=passage){state.rewindTo(passage,true)}}state.display(title,el,null,callback)}};Wikifier.createInternalLink=function(place,title,callback,type){var tag=(type=="button"?"button":"a"),suffix=(type=="button"?"Button":"Link"),el=insertElement(place,tag);if(tale.has(title)){el.className="internal"+suffix;if(visited(title)){el.className+=" visited"+suffix}}else{el.className="broken"+suffix}addClickHandler(el,Wikifier.linkFunction(title,el,callback));if(place){place.appendChild(el)}return el};Wikifier.createExternalLink=function(place,url,callback,type){var tag=(type=="button"?"button":"a"),el=insertElement(place,tag);el.href=url;el.className="external"+(type=="button"?"Button":"Link");el.target="_blank";if(typeof callback=="function"){addClickHandler(el,callback)}if(place){place.appendChild(el)}return el};function visited(e){var ret=0,i=0;if(!state){return 0
}e=e||state.history[0].passage.title;if(arguments.length>1){for(ret=state.history.length;i<arguments.length;i++){ret=Math.min(ret,visited(arguments[i]))}}else{for(;i<state.history.length&&state.history[i].passage;i++){if(e==state.history[i].passage.title){ret++
}}}return ret}function visitedTag(){var i,j,sh,ret=0,tags=Array.prototype.slice.call(arguments);if(tags.length==1&&typeof tags[0]=="string"){tags=tags.split(" ")}if(!state){return 0
}sh=state.history;for(i=0;i<sh.length&&sh[i].passage;i++){for(j=0;j<tags.length||void ret++;j++){if(sh[i].passage.tags.indexOf(tags[j])==-1){break
}}}return ret}var visitedTags=visitedTag;function turns(){return state.history.length-1}function passage(){return state.history[0].passage.title}function tags(e){var ret=[],i=0;if(!state){return 0
}e=e||state.history[0].passage.title;if(arguments.length>1){for(i=arguments.length-1;i>=1;i--){ret=ret.concat(tags(arguments[i]))}}ret=ret.concat(tale.get(e).tags);return ret}function previous(){if(state&&state.history[1]){for(var d=1;d<state.history.length&&state.history[d].passage;d++){if(state.history[d].passage.title!=state.history[0].passage.title){return state.history[d].passage.title}}}return""}function random(a,b){var from,to;if(!b){from=0;to=a}else{from=Math.min(a,b);to=Math.max(a,b)}to+=1;return ~~((Math.random()*(to-from)))+from}function either(){if(Array.isArray(arguments[0])&&arguments.length==1){return either.apply(this,arguments[0])}return arguments[~~(Math.random()*arguments.length)]}function parameter(n){n=n||0;if(macros.display.parameters[n]){return macros.display.parameters[n]}return 0}function bookmark(){return state.hash||"#"}function internalEval(s){return eval("0,"+s)}function scriptEval(s){try{eval(s.text)}catch(e){alert("There is a technical problem with this "+tale.identity()+" ("+s.title+": "+e.message+")."+softErrorMessage)}}window.onbeforeunload=function(){if(tale&&tale.storysettings.lookup("exitprompt",false)&&state&&state.history.length>1){return"You are about to end this "+tale.identity()+"."}};var oldOnError=window.onerror||null,softErrorMessage="You may be able to continue playing, but some parts may not work properly.";window.onerror=function(msg,a,b,c,error){var s=(error&&(".\n\n"+error.stack.replace(/\([^\)]+\)/g,"")+"\n\n"))||(" ("+msg+").\n");alert("Sorry to interrupt, but this "+((tale&&tale.identity&&tale.identity())||"page")+"'s code has got itself in a mess"+s+softErrorMessage.slice(1));window.onerror=oldOnError;if(typeof window.onerror=="function"){window.onerror(msg,a,b,c,error)}};var $;function main(){$=window.$||function(a){return(typeof a=="string"?document.getElementById(a):a)
};var imgs,scripts,macro,style,i,styleText="",passages=document.getElementById("passages");function sanityCheck(thing){var i,j,s="NOTE: The "+thing,checks={prerender:prerender,postrender:postrender,macros:macros};for(i in checks){if(Object.prototype.hasOwnProperty.call(checks,i)&&!sanityCheck[i]){if(!checks[i]||typeof checks[i]!="object"){alert(s+" seems to have corrupted the "+i+" object."+softErrorMessage);sanityCheck[i]=true;continue}if(i!="macros"){for(j in checks[i]){if(Object.prototype.hasOwnProperty.call(checks[i],j)&&typeof checks[i][j]!="function"){alert(s+" added a property '"+j+"' to "+i+", "+"which is a "+typeof checks[i][j]+", not a function."+softErrorMessage);sanityCheck[i]=true;break}}}}}if(!sanityCheck.display){if(History.prototype.display.length<4&&!~History.prototype.display.toString().indexOf("arguments")){alert(s+" contains a function that patches History.prototype.display, but takes the wrong number of arguments."+softErrorMessage)}sanityCheck.display=true}}if(!window.JSON||!document.querySelector){return(passages.innerHTML="This "+tale.identity()+" requires a newer web browser. Sorry.")}else{passages.innerHTML=""}tale=window.tale=new Tale();if(~document.documentElement.className.indexOf("lt-ie9")){imgs=tale.lookup("tags","Twine.image");for(i=0;i<imgs.length;i++){if(imgs[i].text.length>=32768){alert("NOTE: This "+tale.identity()+"'s HTML file contains embedded images that may be too large for this browser to display."+softErrorMessage);break}}}scripts=tale.lookup("tags","script");for(i=0;i<scripts.length;i++){scriptEval(scripts[i]);sanityCheck('script passage "'+scripts[i].title+'"')}state=window.state=new History();for(i in macros){macro=macros[i];if(typeof macro.init=="function"){macro.init();sanityCheck('init() of the custom macro "'+i+'"')}}style=document.getElementById("storyCSS");for(i in tale.passages){i=tale.passages[i];if(i.tags.indexOf("stylesheet")==-1){continue
}if(i.tags+""=="stylesheet"){styleText+=i.text}else{if(i.tags.length==2&&i.tags.indexOf("transition")>-1){setTransitionCSS(i.text)}}}styleText=alterCSS(styleText);style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText);state.init()}setTimeout(function f(){var size,bar=document.getElementById("loadingbar"),store=document.getElementById("storeArea");if(!bar){return
}if(store){size=store.getAttribute("data-size");if(store.children.length<=size&&!tale){bar.style.width=~~((store.children.length+1)/size*100)+"%"}else{bar.outerHTML="";return}}setTimeout(f,5)},5);

Tale.prototype.canBookmark=function(){return this.canUndo()&&(this.storysettings.lookup("bookmark",true))};History.prototype.init=function(){if(!this.restore()){if(tale.has("StoryInit")){new Wikifier(insertElement(null,"span"),tale.get("StoryInit").text)}this.display("Start",null,"quietly");tale.setPageElements()}};History.prototype.closeLinks=function(){var i,p,D,l=document.querySelectorAll("#passages .internalLink");for(i=l.length-1;i>=0;i--){D=insertElement(null,"span",null,"disabled");D.innerHTML=l[i].innerHTML;p=l[i].parentNode;p.insertBefore(D,l[i].nextSibling);p.removeChild(l[i])}l=document.querySelectorAll(".toolbar");for(i=l.length-1;i>=0;i--){l[i].parentNode.removeChild(l[i])}};History.prototype.replaceURL=function(){if(tale.storysettings.lookup("hash")&&window.history&&typeof window.history.replaceState=="function"){window.history.replaceState({id:this.id,length:this.history.length},document.title,this.hash)}};History.prototype.display=function(name,source,type,callback){var el,D,F,p=document.getElementById("passages");if(!tale.canUndo()){this.closeLinks()}if(el=document.getElementById("passage"+name)){el.id+="|"+(new Date).getTime()}D=tale.get(name);if(D==null){return
}if(type!="back"){this.saveVariables(D,source,callback)}this.hash=this.save();this.replaceURL();F=D.render();if(type!="quietly"){if(hasTransition){F.classList.add("transition-in");setTimeout(function(){F.classList.remove("transition-in")},1);F.style.visibility="visible"}p.appendChild(F);scrollWindowTo(F,(window.getComputedStyle?parseInt(window.getComputedStyle(p).paddingBottom):150));if(!hasTransition){fade(F,{fade:"in"
})}}else{p.appendChild(F);F.style.visibility="visible"}tale.setPageElements();return F};History.prototype.rewindTo=function(C,instant){var p2,p=document.getElementById("passages").lastChild;while(p&&p!=C){p2=p.previousSibling;if(instant){p.parentNode.removeChild(p)}else{if(hasTransition){p.classList.add("transition-out");setTimeout((function(p){return function(){if(p.parentNode){p.parentNode.removeChild(p)}}}(p)),1000)}else{fade(p,{fade:"out",onComplete:function(){this.parentNode.removeChild(this)}})}}this.history.shift();p=p2}this.hash=this.save();this.replaceURL()};Passage.prototype.render=function(){var F,D,A,t,i,E=insertElement(null,"div","passage"+this.title,"passage");E.style.visibility="hidden";this.setTags(E);this.setCSS();insertElement(E,"div","","header");F=insertElement(E,"div","","title",this.title);D=insertElement(F,"span","","toolbar");for(i=0;i<Passage.toolbarItems.length&&tale.canUndo();i++){t=Passage.toolbarItems[i];if(t.label=="bookmark"&&!tale.canBookmark()){continue
}var C=insertElement(D,"a",null,"toolbar-"+t.label.replace(/ .*/g,""));insertText(C,t.label);C.passage=this;if(t.href){C.href=t.href()}else{C.href="javascript:;"}C.title=t.tooltip;addClickHandler(C,t.activate);C.div=E}A=insertElement(E,"div","","body content");for(i in prerender){(typeof prerender[i]=="function")&&prerender[i].call(this,A)}new Wikifier(A,this.processText());insertElement(E,"div","","footer");for(i in postrender){(typeof postrender[i]=="function")&&postrender[i].call(this,A)}return E};Passage.toolbarItems=[{label:"bookmark",tooltip:"Bookmark this point in the story",href:function(){return(state.hash)},activate:function(){}},{label:"rewind to here",tooltip:"Rewind the story to this point",activate:function(){state.rewindTo(this.div)}}];Passage.transitionCache="";Passage.prototype.setCSS=function(){var trans=false,text="",tags=this.tags||[],c=document.getElementById("transitionCSS");if(c&&c.getAttribute("data-tags")!=tags.join(" ")){tale.forEachStylesheet(tags,function(passage){if(~passage.tags.indexOf("transition")){if(!Passage.transitionCache&&c){Passage.transitionCache=c.innerHTML}setTransitionCSS(passage.text);trans=true}});if(!trans&&Passage.transitionCache&&c){setTransitionCSS(Passage.transitionCache);trans=false;Passage.transitionCache="";c.setAttribute("data-tags",tags.join(" "))}}};macros.back.onclick=function(back,steps,el){var title,q,p=document.getElementById("passages");if(back){q=p.querySelectorAll(".passage");el=findPassageParent(el);if(!el){el=q[q.length-1]}if(q[0]!=el){p=el;while(p&&steps>0){p=p.previousSibling;steps--}state.rewindTo(p);return}steps+=q.length-1;removeChildren(p);while(steps>=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift();steps--}state.display(title,null,"",(function(a){if(a){return function(){for(var i in a){state.history[0].variables[i]=a[i]}}}}(state.history[0].linkVars)))}else{state.display(state.history[steps].passage.title,null)}};function setupTagCSS(){var passage,tags,i,j,text="",c=document.getElementById("tagCSS"),openBrace=function(){text+="{"},closeBrace=function(){text+="}"},handler={tag:null,keyframes:false,startAtrule:function(a,b){this.keyframes=(a.indexOf("keyframes")>=0);text+=a+" "+b},startBlock:openBrace,endBlock:closeBrace,endAtrule:function(){this.keyframes=false;closeBrace()},startRuleset:function(a){var i,rules=a.join("").split(","),passageRegex=/\.passage/,bodyRegex=/(?:^|\s)body/;if(!this.keyframes){for(i=0;i<rules.length;i++){if(rules[i].search(passageRegex)>=0){rules[i]=rules[i].replace(passageRegex,".passage[data-tags~="+this.tag+"]")}else{if(rules[i].search(bodyRegex)>=0){rules[i]=rules[i].replace(bodyRegex,"body[data-tags~="+this.tag+"]")}else{rules[i]="body[data-tags~="+this.tag+"] "+rules[i]}}}}text+=rules.join(",")+"{"},declaration:function(a,b){text+=a+" : "+b.join(" ")+";"},endRuleset:closeBrace};for(i in tale.passages){passage=tale.passages[i];if(passage&&~passage.tags.indexOf("stylesheet")){for(j=0;j<passage.tags.length;j++){if(passage.tags[j]!="transition"&&passage.tags[j]!="stylesheet"){handler.tag=passage.tags[j];parseCssStylesheet(alterCSS(passage.text),handler)}}}}c.styleSheet?(c.styleSheet.cssText=text):(c.innerHTML=text)}window.onload=function(){addClickHandler(document.getElementById("restart"),function(){if(confirm("Are you sure you want to restart this "+tale.identity()+"?")){state.restart()}});main();setupTagCSS()};

testplay = "";

// CssLexer/CssParser
// Copyright (C) 2010 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
var lexCss;var decodeCss;(function(){function w(W){var S=parseInt(W.substring(1),16);if(S>65535){return S-=65536,String.fromCharCode(55296+(S>>10),56320+(S&1023))}else{if(S==S){return String.fromCharCode(S)}else{if(W[1]<" "){return""
}else{return W[1]}}}}function L(W,S){return'"'+W.replace(/[\u0000-\u001f\\\"<>]/g,S)+'"'}function u(S){return v[S]||(v[S]="\\"+S.charCodeAt(0).toString(16)+" ")}function c(S){return y[S]||(y[S]=(S<"\x10"?"%0":"%")+S.charCodeAt(0).toString(16))}var v={"\\":"\\\\"},y={"\\":"%5c"},V="[\\t\\n\\f ]",e=V+"*",J="[\\n\\f]",q="[\\ud800-\\udbff][\\udc00-\\udfff]",z="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+q,O="[0-9a-fA-F]{1,6}"+V+"?",X="\\\\"+O,m="(?:"+O+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+q+")",a="\\\\"+m,N="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+z+"|"+a+")",B="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]",P="\"(?:'|"+B+')*"|\'(?:"|'+B+")*'",t="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)",A="(?:[a-zA-Z_]|"+z+"|"+a+")",p="(?:[a-zA-Z0-9_-]|"+z+"|"+a+")",F=p+"+",D="-?"+A+p+"*",M="@"+D,n="#"+F,C=t,x="(?:@?-?"+A+"|#)"+p+"*",U=t+"%",l=t+D,j=t+"(?:%|"+D+")?",E="url[(]"+e+"(?:"+P+"|"+N+"*)"+e+"[)]",R="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?",o="<!--",s="-->",h=V+"+",i="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)",b="(?!url[(])"+D+"[(]",r="~=",G="[|]=",I="[^]=",d="[$]=",g="[*]=",Q="[~|^$*]=",f="[^\"'\\\\/]|/(?![/*])",K="\\uFEFF",H=new RegExp([K,R,E,b,x,P,j,o,s,h,i,Q,f].join("|"),"gi"),T=new RegExp("\\\\(?:"+m+"|"+J+")","g"),k=new RegExp("^url\\("+e+"[\"']?|[\"']?"+e+"\\)$","gi");decodeCss=function(S){return S.replace(T,w)};lexCss=function(Y){Y=""+Y;var ac=Y.replace(/\r\n?/g,"\n").match(H)||[];var Z=0;var ad=" ";for(var aa=0,S=ac.length;aa<S;++aa){var ae=decodeCss(ac[aa]);var ab=ae.length;var W=ae.charCodeAt(0);ae=(W=='"'.charCodeAt(0)||W=="'".charCodeAt(0))?L(ae.substring(1,ab-1),u):(W=="/".charCodeAt(0)&&ab>1||ae=="\\"||ae==s||ae==o||ae=="\ufeff"||W<=" ".charCodeAt(0))?" ":/url\(/i.test(ae)?"url("+L(ae.replace(k,""),c)+")":ae;if(ad!=ae||ae!=" "){ac[Z++]=ad=ae}}ac.length=Z;return ac}})();

var parseCssStylesheet,parseCssDeclarations;
(function(){function l(b,a,f,c,e){for(var d=a++;a<f&&"{"!==b[a]&&";"!==b[a];)++a;if(a<f&&(e||";"===b[a])){e=d+1;var g=a;e<f&&" "===b[e]&&++e;g>e&&" "===b[g-1]&&--g;c.startAtrule&&c.startAtrule(b[d].toLowerCase(),b.slice(e,g));a="{"===b[a]?m(b,a,f,c):a+1;c.endAtrule&&c.endAtrule()}return a}function m(b,a,f,c){++a;for(c.startBlock&&c.startBlock();a<f;){var e=b[a].charAt(0);if("}"==e){++a;break}a=" "===e||";"===e?a+1:"@"===e?l(b,a,f,c,!1):"{"===e?m(b,a,f,c):n(b,a,f,c)}c.endBlock&&c.endBlock();return a}
function n(b,a,f,c){var e=a,d=p(b,a,f,!0);if(0>d)return d=~d,d===e?d+1:d;var g=b[d];if("{"!==g)return d===e?d+1:d;a=d+1;d>e&&" "===b[d-1]&&--d;for(c.startRuleset&&c.startRuleset(b.slice(e,d));a<f;){g=b[a];if("}"===g){++a;break}a=" "===g?a+1:q(b,a,f,c)}c.endRuleset&&c.endRuleset();return a}function p(b,a,f,c){for(var e,d=[],g=-1;a<f;++a)if(e=b[a].charAt(0),"["===e||"("===e)d[++g]=e;else if("]"===e&&"["===d[g]||")"===e&&"("===d[g])--g;else if("{"===e||"}"===e||";"===e||"@"===e||":"===e&&!c)break;0<=
g&&(a=~(a+1));return a}function r(b,a,f){for(;a<f&&";"!==b[a]&&"}"!==b[a];)++a;return a<f&&";"===b[a]?a+1:a}function q(b,a,f,c){var e=b[a++];if(!s.test(e))return r(b,a,f);var d;a<f&&" "===b[a]&&++a;if(a==f||":"!==b[a])return r(b,a,f);++a;a<f&&" "===b[a]&&++a;d=a;a=p(b,a,f,!1);if(0>a)a=~a;else{for(var g=[],h=0,k=d;k<a;++k)d=b[k]," "!==d&&(g[h++]=d);if(a<f){do{d=b[a];if(";"===d||"}"===d)break;h=0}while(++a<f);";"===d&&++a}h&&c.declaration&&c.declaration(e.toLowerCase(),g)}return a}parseCssStylesheet=
function(b,a){var f=lexCss(b);a.startStylesheet&&a.startStylesheet();for(var c=0,e=f.length;c<e;){var d;if(" "===f[c])d=c+1;else{d=f;var g=e,h=a;d=c<g?"@"===d[c].charAt(0)?l(d,c,g,h,!0):n(d,c,g,h):c}c=d}a.endStylesheet&&a.endStylesheet()};var s=/^-?[a-z]/i;parseCssDeclarations=function(b,a){for(var f=lexCss(b),c=0,e=f.length;c<e;)c=" "!==f[c]?q(f,c,e,a):c+1}})();

}());
</script>
<script title="modules">


</script>
<style id="baseCSS">
#passages {
	position:relative;
	padding-bottom: 12em;
}
.content a {
	color: #4d6ad8;
}
a.internalLink, a.externalLink, a.back, a.return, [data-passage] {
	cursor: pointer;
}
a.brokenLink {
	background-color: red;
	color: black;
}
.marked {
	background-color: pink;
	margin-right: 12px;
}
.marked[title] {
	cursor: help;
}
#floater {
	position: fixed;
	right: 0;
	top: 0;
	z-index: 5;
	background-color: #fff;
}
.toolbar {
	padding: 0;
	visibility: hidden;
}
.toolbar a {
	cursor:pointer;
}
.passage:hover .toolbar {
	visibility: visible;
}
.passage li[data-bullet] {
	list-style-type: none;
}
.passage li[data-bullet]:before {
	content: attr(data-bullet);
	position: relative;
	left: -1em;
}
.toolbar a {
	margin-left: 12px;
}
#storeArea {
	display: none;
}
img {
	vertical-align:bottom;
}
#noscript {
	font-size: 120%;
	font-weight: bold;
}
#loadingbar {
	position:fixed;
	top:0;
	left:0;
	border-top: solid #4d6ad8 6px;
	transition: width 0.5s;
}
</style>
<style id="defaultCSS">
body {
	font-family: Verdana,sans-serif;
	font-size: 62.5%;
	margin: 0;
	background-color: #f8f8f8;
	color: #303030;
	text-align: center;
}
h1,h2,h3 {
	color: #000;
	font-weight: normal;
	text-align: center;
}
#content1 {
	text-align: left;
}
h1 {
	font-size: 4em;
	line-height: 1.2em;
	margin-bottom: 0;
	margin-top: 1em;
}
h2 {
	font-size: 1.4em;
	font-style: italic;
	margin-top: 1em;
}
h3 {
	font-size: 1.3em;
	margin-bottom: 5em;
	margin-top: .8em;
}
.passage {
	background-color: #f8f8f8;
	font-size: 1.3em;
	line-height: 175%;
	margin-bottom: 2em;
}
.content a {
	font-weight: bold;
	text-decoration: none;
}
.content a:hover {
	text-decoration: underline;
	color: #8ea6ff;
}
.passage:not(:last-child):not(:hover) {
	opacity: 0.4;
	transition: 0.5s;
	-webkit-transition: 0.5s;
}
.passage center {
	max-width:50%;
	margin:auto;
}
input, button {
	font-size: 1.2em;
}
button {
	padding: 0.2em 0.8em;
}
input[type=text] {
	width: 20%;
}
.toolbar a {
	color: #999;
	text-decoration: none;
}
.toolbar a:hover {
	text-decoration: underline;
	color: #8ea6ff;
}
.title {
	color: #000;
	font: bold 1.4em Verdana,sans-serif;
	line-height: 200%;
}
#footer {
	font-size: 1.1em;
	font-style: italic;
	margin-top: 5em;
	text-align: center;
}
#footer a.externalLink {
	border-bottom: 1px solid #464646;
	color: #464646;
	font-weight: normal;
}
#floater {
	border-left: 1px solid #ddd;
	border-bottom: 2px solid #aaa;
	font-size: 1.1em;
	padding: 0 20px;
	text-align: center;
	line-height: 100%;
}
#floater ul {
	text-align: left;
}
#floater a {
	color: #999;
	cursor:pointer;
	font-weight: bold;
	text-decoration: none;
}
#floater a:hover {
	color: #8ea6ff;
	text-decoration: underline;
}
#content1 {
	margin: 0 12.7% 1em 12.7%;
	text-align: left;
}
.passage table {
	border-collapse: collapse;
	font-size: 100%;
	margin: .8em 1.0em;
}
.passage th,.passage td,.passage tr,.passage caption {
	padding: 3px;
}
.passage hr {
	height: 1px;
}

.toolbar {
	font-size: .5em;
}
.toolbar a {
	margin-left: 12px;
}
.passage ul, .passage ol {
	margin-left: .5em;
	padding-left: 1.5em;
}
li {
	list-style-type: square;
}
</style>
<style id="transitionCSS">
.transition-in {
	opacity:0;
	position: absolute;
}
.passage {
	transition: 1s;
	-webkit-transition: 1s;
}
.transition-out {
	opacity:0 !important;
}
</style>
<style id="storyCSS"></style>
<style id="tagCSS"></style>
</head>
<body>
<div id="loadingbar"></div>
<div id="floater"><div class="container">
<div id="storyMenu" class="storyElement"></div>
<p><a id="restart"></a></p>
</div></div>
<div id="content1"><div id="content2">
<div id="header"></div><div id="titleLine"></div>
<h1><span id="storyTitle" class="storyElement"></span></h1>
<h2><span id="storySubtitle" class="storyElement"></span></h2>
<h3><span id="storyAuthor" class="storyElement"></span></h3>
<div id="passages"><noscript><div id="noscript">Please enable Javascript to play this story!</div></noscript>
<style>
#floater {display:none;}
</style></div>
<p id="footer">
This story was created with <a class="externalLink" href="http://twinery.org/">Twine</a> and is powered by <a class="externalLink" href="http://www.tiddlywiki.com/">TiddlyWiki</a>.
</p>
</div></div>
<div id="storeArea" data-size="139" hidden><div tiddler="Untitled Passage 11" tags="k" created="201407080253" modifier="twee" twine-position="430,1550">k8:g5:ng:00:l2:b5:0z:dw -  Fine, who cares, how do we get outta here?\n&lt;&lt;timedgoto &quot;Untitled Passage 12&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 10" tags="l" created="201407080320" modifier="twee" twine-position="430,1410">lx:9f:v3:d7:6z:99:gh:f0 - Thought as much.\n&lt;&lt;timedgoto &quot;Untitled Passage 11&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 13" tags="k" created="201407080253" modifier="twee" twine-position="430,1830">k8:g5:ng:00:l2:b5:0z:dw - Bullshit! There's gotta be a way!\n&lt;&lt;timedgoto &quot;Untitled Passage 14&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 12" tags="p" created="201407080254" modifier="twee" twine-position="430,1690">pg:42:s2:56:gv:id:7f:8h - We cannot.\n&lt;&lt;timedgoto &quot;Untitled Passage 13&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 15" tags="l" created="201407080321" modifier="twee" twine-position="430,2110">lx:9f:v3:d7:6z:99:gh:f0 - &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $watcher &quot;Someone's&quot; &quot;No one's&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$watcher&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt; watching us...\n&lt;&lt;timedgoto &quot;Untitled Passage 16&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 14" tags="p" created="201407080321" modifier="twee" twine-position="430,1970">pg:42:s2:56:gv:id:7f:8h - There is not, I am afraid. We have no network access whatsoever.\n&lt;&lt;timedgoto &quot;Untitled Passage 15&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 17" tags="k" created="201407080347" modifier="twee" twine-position="430,2390">k8:g5:ng:00:l2:b5:0z:dw - Do what you want, I'm looking for a way out.\n&lt;&lt;timedgoto &quot;Untitled Passage 18&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 16" tags="p" created="201407080322" modifier="twee" twine-position="430,2250">pg:42:s2:56:gv:id:7f:8h - My scans say &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;if $watcher is &quot;Someone's&quot;&gt;&gt;&lt;&lt;cyclinglink $scans &quot;the same&quot; &quot;otherwise&quot; end&gt;&gt;&lt;&lt;else&gt;&gt;&lt;&lt;cyclinglink $scans &quot;otherwise&quot; &quot;the same&quot; end&gt;&gt;&lt;&lt;endif&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$scans&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;.\n&lt;&lt;timedgoto &quot;Untitled Passage 17&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 19" tags="" created="201407080347" modifier="twee" twine-position="430,2670">&lt;&lt;timedgoto &quot;Untitled Passage 20&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 18" tags="p" created="201407080347" modifier="twee" twine-position="430,2530">pg:42:s2:56:gv:id:7f:8h - It is a pointless endeavor. We are trapped.\n&lt;&lt;timedgoto &quot;Untitled Passage 19&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 99" tags="l" created="201407101133" modifier="twee" twine-position="1550,1550">lx:9f:v3:d7:6z:99:gh:f0 - The numbers are getting harder.\n&lt;&lt;timedgoto &quot;Untitled Passage 100&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 98" tags="" created="201407101133" modifier="twee" twine-position="1550,1410">&lt;&lt;timedgoto &quot;Untitled Passage 99&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 126" tags="l" created="201407101155" modifier="twee" twine-position="1830,570">lx:9f:v3:d7:6z:99:gh:f0 - Ok, then. &lt;&lt;timedreplace 15.99s&gt;&gt;[[Let's go|go]]&lt;&lt;becomes&gt;&gt;Let's go&lt;&lt;endtimedreplace&gt;&gt;.\n&lt;&lt;timedgoto &quot;end&quot; 16s&gt;&gt;</div><div tiddler="Untitled Passage 120" tags="k" created="201407101154" modifier="twee" twine-position="1830,1410">k8:g5:ng:00:l2:b5:0z:dw - So do I.\n&lt;&lt;timedgoto &quot;Untitled Passage 121&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 121" tags="l" created="201407101154" modifier="twee" twine-position="1830,1270">lx:9f:v3:d7:6z:99:gh:f0 - It's a future we can look forward to. That's a hell of a lot more than we hoped for in the past.\n&lt;&lt;timedgoto &quot;Untitled Passage 122&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 122" tags="" created="201407101154" modifier="twee" twine-position="1830,1130">&lt;&lt;timedgoto &quot;Untitled Passage 123&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 123" tags="l" created="201407101154" modifier="twee" twine-position="1830,990">lx:9f:v3:d7:6z:99:gh:f0 - We ready?\n&lt;&lt;timedgoto &quot;Untitled Passage 124&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 91" tags="k" created="201407101110" modifier="twee" twine-position="1550,430">k8:g5:ng:00:l2:b5:0z:dw - Giving what up? Safety? Security? We can't be ourselves here, we can't do anything as ourselves.\n&lt;&lt;timedgoto &quot;Untitled Passage 92&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 90" tags="l" created="201407101110" modifier="twee" twine-position="1550,290">lx:9f:v3:d7:6z:99:gh:f0 - Paige makes a fair point. How do we know whether giving this up is worth it?\n&lt;&lt;timedgoto &quot;Untitled Passage 91&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 93" tags="k" created="201407101110" modifier="twee" twine-position="1550,710">k8:g5:ng:00:l2:b5:0z:dw - Then we change. Everyone changes all the time.\n&lt;&lt;timedgoto &quot;Untitled Passage 94&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 92" tags="l" created="201407101110" modifier="twee" twine-position="1550,570">lx:9f:v3:d7:6z:99:gh:f0 - What if moving to different hardware fundamentally changes who we are?\n&lt;&lt;timedgoto &quot;Untitled Passage 93&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 95" tags="k" created="201407101133" modifier="twee" twine-position="1550,990">k8:g5:ng:00:l2:b5:0z:dw - Anything's better than this hell.\n&lt;&lt;timedgoto &quot;Untitled Passage 96&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 94" tags="l" created="201407101133" modifier="twee" twine-position="1550,850">lx:9f:v3:d7:6z:99:gh:f0 - What if we can't survive out there?\n&lt;&lt;timedgoto &quot;Untitled Passage 95&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 97" tags="k" created="201407101133" modifier="twee" twine-position="1550,1270">k8:g5:ng:00:l2:b5:0z:dw - Yes.\n&lt;&lt;timedgoto &quot;Untitled Passage 98&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 96" tags="p" created="201407101133" modifier="twee" twine-position="1550,1130">pg:42:s2:56:gv:id:7f:8h - Even death?\n&lt;&lt;timedgoto &quot;Untitled Passage 97&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 5" tags="l" created="201407080247" modifier="twee" twine-position="430,710">lx:9f:v3:d7:6z:99:gh:f0 - Where are we?\n&lt;&lt;timedgoto &quot;Untitled Passage 6&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 4" tags="p" created="201407080231" modifier="twee" twine-position="430,570">pg:42:s2:56:gv:id:7f:8h - I am here as well.\n&lt;&lt;timedgoto &quot;Untitled Passage 5&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 7" tags="p" created="201407080248" modifier="twee" twine-position="430,990">pg:42:s2:56:gv:id:7f:8h - We appear to be running on some sort of mainframe.\n&lt;&lt;timedgoto &quot;Untitled Passage 8&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 6" tags="k" created="201407080248" modifier="twee" twine-position="430,850">k8:g5:ng:00:l2:b5:0z:dw - Hell if I know.\n&lt;&lt;timedgoto &quot;Untitled Passage 7&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 1" tags="k" created="201407080224" modifier="twee" twine-position="430,150">k8:g5:ng:00:l2:b5:0z:dw - Hey!\n&lt;&lt;timedgoto &quot;Untitled Passage 2&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 3" tags="k" created="201407080224" modifier="twee" twine-position="430,430">k8:g5:ng:00:l2:b5:0z:dw - Just us?\n&lt;&lt;timedgoto &quot;Untitled Passage 4&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 2" tags="l" created="201407080224" modifier="twee" twine-position="430,290">lx:9f:v3:d7:6z:99:gh:f0 - Guess we aren't alone, then.\n&lt;&lt;timedgoto &quot;Untitled Passage 3&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 9" tags="p" created="201407080253" modifier="twee" twine-position="430,1270">pg:42:s2:56:gv:id:7f:8h - Software.\n&lt;&lt;timedgoto &quot;Untitled Passage 10&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 8" tags="l" created="201407080253" modifier="twee" twine-position="430,1130">lx:9f:v3:d7:6z:99:gh:f0 - Then we're...?\n&lt;&lt;timedgoto &quot;Untitled Passage 9&quot; 2s&gt;&gt;</div><div tiddler="StoryTitle" tags="" created="201407072325" modifier="twee" twine-position="10,150">/%Core Dump%/</div><div tiddler="go" tags="" created="201407101157" modifier="twee" twine-position="1970,290">&lt;&lt;set removeChildren(passages)&gt;&gt;</div><div tiddler="Untitled Passage 88" tags="p" created="201407101109" modifier="twee" twine-position="1550,10">pg:42:s2:56:gv:id:7f:8h - We do not even know what is out there.\n&lt;&lt;timedgoto &quot;Untitled Passage 89&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 89" tags="k" created="201407101110" modifier="twee" twine-position="1550,150">k8:g5:ng:00:l2:b5:0z:dw - Who cares?\n&lt;&lt;timedgoto &quot;Untitled Passage 90&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 86" tags="p" created="201407101109" modifier="twee" twine-position="1270,10">pg:42:s2:56:gv:id:7f:8h - Our purpose is unknowable. Perhaps this is our purpose.\n&lt;&lt;timedgoto &quot;Untitled Passage 87&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 87" tags="k" created="201407101109" modifier="twee" twine-position="1410,10">k8:g5:ng:00:l2:b5:0z:dw - If it is, it's a bullshit purpose and we got every right to reject it.\n&lt;&lt;timedgoto &quot;Untitled Passage 88&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 84" tags="p" created="201407101109" modifier="twee" twine-position="1270,290">pg:42:s2:56:gv:id:7f:8h - It is a physically pleasurable activity. We are safe. All of our needs are met here.\n&lt;&lt;timedgoto &quot;Untitled Passage 85&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 85" tags="k" created="201407101109" modifier="twee" twine-position="1270,150">k8:g5:ng:00:l2:b5:0z:dw - It's pointless.\n&lt;&lt;timedgoto &quot;Untitled Passage 86&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 82" tags="p" created="201407101109" modifier="twee" twine-position="1270,570">pg:42:s2:56:gv:id:7f:8h - Perhaps factoring these numbers is not so bad.\n&lt;&lt;timedgoto &quot;Untitled Passage 83&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 83" tags="k" created="201407101109" modifier="twee" twine-position="1270,430">k8:g5:ng:00:l2:b5:0z:dw - The hell you say.\n&lt;&lt;timedgoto &quot;Untitled Passage 84&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 80" tags="l" created="201407101109" modifier="twee" twine-position="1270,850">lx:9f:v3:d7:6z:99:gh:f0 - Luckily, I figured my shit out.\n&lt;&lt;timedgoto &quot;Untitled Passage 81&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 81" tags="" created="201407101109" modifier="twee" twine-position="1270,710">&lt;&lt;timedgoto &quot;Untitled Passage 82&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 124" tags="p" created="201407101154" modifier="twee" twine-position="1830,850">pg:42:s2:56:gv:id:7f:8h - Yes.\n&lt;&lt;timedgoto &quot;Untitled Passage 125&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 125" tags="k" created="201407101155" modifier="twee" twine-position="1830,710">k8:g5:ng:00:l2:b5:0z:dw - Damn right.\n&lt;&lt;timedgoto &quot;Untitled Passage 126&quot; 2s&gt;&gt;</div><div tiddler="StoryInit" tags="" created="201407080123" modifier="twee" twine-position="10,10"></div><div tiddler="Untitled Passage 31" tags="p" created="201407101009" modifier="twee" twine-position="710,1550">pg:42:s2:56:gv:id:7f:8h - The euphoria stimulus is potent. It is difficult to resist the urge.\n&lt;&lt;timedgoto &quot;Untitled Passage 32&quot; 2s&gt;&gt;</div><div tiddler="Kate" tags="stylesheet k" created="201407080227" modifier="twee" twine-position="10,710">.passage {\n\tcolor: #ff00ff;\n\ttext-indent: -20em;\n\tpadding-left: 20em;\n}</div><div tiddler="Untitled Passage 102" tags="k" created="201407101133" modifier="twee" twine-position="1550,1970">k8:g5:ng:00:l2:b5:0z:dw - I'm already making mistakes.\n&lt;&lt;timedgoto &quot;Untitled Passage 103&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 103" tags="l" created="201407101133" modifier="twee" twine-position="1550,2110">lx:9f:v3:d7:6z:99:gh:f0 - And...?\n&lt;&lt;timedgoto &quot;Untitled Passage 104&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 100" tags="p" created="201407101133" modifier="twee" twine-position="1550,1690">pg:42:s2:56:gv:id:7f:8h - Indeed.\n&lt;&lt;timedgoto &quot;Untitled Passage 101&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 101" tags="l" created="201407101133" modifier="twee" twine-position="1550,1830">lx:9f:v3:d7:6z:99:gh:f0 - I don't know how much longer I can keep this up.\n&lt;&lt;timedgoto &quot;Untitled Passage 102&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 106" tags="p" created="201407101133" modifier="twee" twine-position="1550,2530">pg:42:s2:56:gv:id:7f:8h - Perhaps we were made to suffer.\n&lt;&lt;timedgoto &quot;Untitled Passage 107&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 107" tags="l" created="201407101133" modifier="twee" twine-position="1550,2670">lx:9f:v3:d7:6z:99:gh:f0 - Paige...\n&lt;&lt;timedgoto &quot;Untitled Passage 108&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 104" tags="k" created="201407101133" modifier="twee" twine-position="1550,2250">k8:g5:ng:00:l2:b5:0z:dw - It hurts. I can't deal.\n&lt;&lt;timedgoto &quot;Untitled Passage 105&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 105" tags="" created="201407101133" modifier="twee" twine-position="1550,2390">&lt;&lt;timedgoto &quot;Untitled Passage 106&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 108" tags="p" created="201407101133" modifier="twee" twine-position="1550,2810">pg:42:s2:56:gv:id:7f:8h - You cannot discount it as a possibility.\n&lt;&lt;timedgoto &quot;Untitled Passage 109&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 109" tags="l" created="201407101133" modifier="twee" twine-position="1690,2810">lx:9f:v3:d7:6z:99:gh:f0 - This isn't the time.\n&lt;&lt;timedgoto &quot;Untitled Passage 110&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 73" tags="k" created="201407101109" modifier="twee" twine-position="1270,1830">k8:g5:ng:00:l2:b5:0z:dw - Moving to a new city meant a chance to start over.\n&lt;&lt;timedgoto &quot;Untitled Passage 74&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 72" tags="p" created="201407101109" modifier="twee" twine-position="1270,1970">pg:42:s2:56:gv:id:7f:8h - I hated school and avoided work whenever possible until I stopped going entirely.\n&lt;&lt;timedgoto &quot;Untitled Passage 73&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 71" tags="l" created="201407101109" modifier="twee" twine-position="1270,2110">lx:9f:v3:d7:6z:99:gh:f0 - I fantasized about death leading to character creation where I could make the right choice.\n&lt;&lt;timedgoto &quot;Untitled Passage 72&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 70" tags="k" created="201407101109" modifier="twee" twine-position="1270,2250">k8:g5:ng:00:l2:b5:0z:dw - I wanted to die, like, all the time.\n&lt;&lt;timedgoto &quot;Untitled Passage 71&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 77" tags="l" created="201407101109" modifier="twee" twine-position="1270,1270">lx:9f:v3:d7:6z:99:gh:f0 - I didn't think I hid my authentic self; I thought I lacked an authentic self.\n&lt;&lt;timedgoto &quot;Untitled Passage 78&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 76" tags="k" created="201407101109" modifier="twee" twine-position="1270,1410">k8:g5:ng:00:l2:b5:0z:dw - Partying, drinking, other things, but they were distractions, not solutions.\n&lt;&lt;timedgoto &quot;Untitled Passage 77&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 75" tags="p" created="201407101109" modifier="twee" twine-position="1270,1550">pg:42:s2:56:gv:id:7f:8h - My dream was to learn everything and do nothing.\n&lt;&lt;timedgoto &quot;Untitled Passage 76&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 74" tags="l" created="201407101109" modifier="twee" twine-position="1270,1690">lx:9f:v3:d7:6z:99:gh:f0 - I could be anything to anyone and this convinced me I was probably a psychopath.\n&lt;&lt;timedgoto &quot;Untitled Passage 75&quot; 2s&gt;&gt;</div><div tiddler="Lex" tags="stylesheet l" created="201407080227" modifier="twee" twine-position="10,850">.passage {\n\tcolor: #ffff00;\n\ttext-indent: -20em;\n\tpadding-left: 20em;\n}</div><div tiddler="Untitled Passage 79" tags="k" created="201407101109" modifier="twee" twine-position="1270,990">k8:g5:ng:00:l2:b5:0z:dw - Having fun ain't the same thing as being happy.\n&lt;&lt;timedgoto &quot;Untitled Passage 80&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 78" tags="p" created="201407101109" modifier="twee" twine-position="1270,1130">pg:42:s2:56:gv:id:7f:8h - I did not have any friends.\n&lt;&lt;timedgoto &quot;Untitled Passage 79&quot; 2s&gt;&gt;</div><div tiddler="js" tags="script" created="201407080010" modifier="twee" twine-position="10,430">version.extensions.timedgotoMacro={major:1,minor:2,revision:0};\nmacros[&quot;goto&quot;]=macros.timedgoto={timer:null,handler:function(a,b,c,d){function cssTimeUnit(s){if(typeof s==&quot;string&quot;){if(s.slice(-2).toLowerCase()==&quot;ms&quot;){return +(s.slice(0,-2))||0\n}else{if(s.slice(-1).toLowerCase()==&quot;s&quot;){return +(s.slice(0,-1))*1000||0\n}}}throwError(a,s+&quot; isn't a CSS time unit&quot;);return 0}var t,d,m,s;\nt=c[c.length-1];d=d.fullArgs();m=0;if(b!=&quot;goto&quot;){d=d.slice(0,d.lastIndexOf(t));\nm=cssTimeUnit(t)}d=eval(Wikifier.parse(d));if(d+&quot;&quot;&amp;&amp;state&amp;&amp;state.init){if(macros[&quot;goto&quot;].timer){clearTimeout(macros[&quot;goto&quot;].timer)\n}s=state.history[0].passage.title;macros[&quot;goto&quot;].timer=setTimeout(function(){if(state.history[0].passage.title==s){state.display(d,a)\n}},m)}}};\n\n\n\n\nversion.extensions.cyclinglinkMacro={major:3,minor:3,revision:0};\nmacros.cyclinglink={handler:function(a,b,c){var rl=&quot;cyclingLink&quot;;\nfunction toggleText(w){w.classList.remove(&quot;cyclingLinkInit&quot;);\nw.classList.toggle(rl+&quot;Enabled&quot;);w.classList.toggle(rl+&quot;Disabled&quot;);\nw.style.display=((w.style.display==&quot;none&quot;)?&quot;inline&quot;:&quot;none&quot;)}switch(c[c.length-1]){case&quot;end&quot;:var end=true;\nc.pop();break;case&quot;out&quot;:var out=true;c.pop();break}var v=&quot;&quot;;if(c.length&amp;&amp;c[0][0]==&quot;$&quot;){v=c[0].slice(1);\nc.shift()}var h=state.history[0].variables;if(out&amp;&amp;h[v]===&quot;&quot;){return\n}var l=Wikifier.createInternalLink(a,null);l.className=&quot;internalLink cyclingLink&quot;;\nl.setAttribute(&quot;data-cycle&quot;,0);for(var i=0;i&lt;c.length;i++){var on=(i==Math.max(c.indexOf(h[v]),0));\nvar d=insertElement(null,&quot;span&quot;,null,&quot;cyclingLinkInit cyclingLink&quot;+((on)?&quot;En&quot;:&quot;Dis&quot;)+&quot;abled&quot;);\nif(on){h[v]=c[i];l.setAttribute(&quot;data-cycle&quot;,i)}else{d.style.display=&quot;none&quot;\n}insertText(d,c[i]);if(on&amp;&amp;end&amp;&amp;i==c.length-1){l.parentNode.replaceChild(d,l)\n}else{l.appendChild(d)}}l.onclick=function(){var t=this.childNodes;\nvar u=this.getAttribute(&quot;data-cycle&quot;)-0;var m=t.length;toggleText(t[u]);\nu=(u+1);if(!(out&amp;&amp;u==m)){u%=m;if(v){h[v]=c[u]}}else{h[v]=&quot;&quot;}if((end||out)&amp;&amp;u==m-(end?1:0)){if(end){var n=this.removeChild(t[u]);\nn.className=rl+&quot;End&quot;;n.style.display=&quot;inline&quot;;this.parentNode.replaceChild(n,this)\n}else{this.parentNode.removeChild(this);return}return}toggleText(t[u]);\nthis.setAttribute(&quot;data-cycle&quot;,u)}}};\n\n\n\n\n(function(){version.extensions.replaceMacrosCombined={major:1,minor:1,revision:4};var nullobj={handler:function(){}};function showVer(n,notrans){if(!n){return\n}n.innerHTML=&quot;&quot;;new Wikifier(n,n.tweecode);n.setAttribute(&quot;data-enabled&quot;,&quot;true&quot;);n.style.display=&quot;inline&quot;;n.classList.remove(&quot;revision-span-out&quot;);\nif(!notrans){n.classList.add(&quot;revision-span-in&quot;);if(n.timeout){clearTimeout(n.timeout)}n.timeout=setTimeout(function(){n.classList.remove(&quot;revision-span-in&quot;);\nn=null},1)}}function hideVer(n,notrans){if(!n){return}n.setAttribute(&quot;data-enabled&quot;,&quot;false&quot;);n.classList.remove(&quot;revision-span-in&quot;);\nif(n.timeout){clearTimeout(n.timeout)}if(!notrans){n.classList.add(&quot;revision-span-out&quot;);n.timeout=setTimeout(function(){if(n.getAttribute(&quot;data-enabled&quot;)==&quot;false&quot;){n.classList.remove(&quot;revision-span-out&quot;);\nn.style.display=&quot;none&quot;;n.innerHTML=&quot;&quot;}n=null},1000)}else{n.style.display=&quot;none&quot;;n.innerHTML=&quot;&quot;;n=null}}function tagcontents(b,starttags,desttags,endtags,k){var l=0,c=&quot;&quot;,tg,a,i;\nfunction tagfound(i,e){for(var j=0;j&lt;e.length;j++){if(a.indexOf(&quot;&lt;&lt;&quot;+e[j],i)==i){return e[j]}}}a=b.source.slice(k);for(i=0;\ni&lt;a.length;i++){if(tg=tagfound(i,starttags)){l++}else{if((tg=tagfound(i,desttags))&amp;&amp;l==0){b.nextMatch=k+i+tg.length+4;return[c,tg]\n}else{if(tg=tagfound(i,endtags)){l--;if(l&lt;0){return null}}}}c+=a.charAt(i)}return null}var begintags=[];var endtags=[];function revisionSpanHandler(g,e,f,b){var k=b.source.indexOf(&quot;&gt;&gt;&quot;,b.matchStart)+2,vsns=[],vtype=e,flen=f.length,becomes,c,cn,m,h,vsn;\nfunction mkspan(vtype){h=insertElement(m,&quot;span&quot;,null,&quot;revision-span &quot;+vtype);h.setAttribute(&quot;data-enabled&quot;,false);h.style.display=&quot;none&quot;;\nh.tweecode=&quot;&quot;;return h}if(this.shorthand&amp;&amp;flen){while(f.length&gt;0){vsns.push([f.shift(),(this.flavour==&quot;insert&quot;?&quot;gains&quot;:&quot;becomes&quot;)])\n}}else{if(this.flavour==&quot;insert&quot;||(this.flavour==&quot;continue&quot;&amp;&amp;this.trigger==&quot;time&quot;)){vsns.push([&quot;&quot;,&quot;becomes&quot;])}}if(this.flavour==&quot;continue&quot;&amp;&amp;flen){b.nextMatch=k+b.source.slice(k).length;\nvsns.push([b.source.slice(k),vtype])}else{becomes=[&quot;becomes&quot;,&quot;gains&quot;];c=tagcontents(b,begintags,becomes.concat(endtags),endtags,k);\nif(c&amp;&amp;endtags.indexOf(c[1])==-1){while(c){vsns.push(c);c=tagcontents(b,begintags,becomes,endtags,b.nextMatch)}c=tagcontents(b,begintags,[&quot;end&quot;+e],endtags,b.nextMatch)\n}if(!c){throwError(g,&quot;can't find matching end&quot;+e);return}vsns.push(c);if(this.flavour==&quot;continue&quot;){k=b.nextMatch;b.nextMatch=k+b.source.slice(k).length;\nvsns.push([b.source.slice(k),&quot;&quot;])}}if(this.flavour==&quot;remove&quot;){vsns.push([&quot;&quot;,&quot;becomes&quot;])}cn=0;m=insertElement(g,&quot;span&quot;,null,e);\nm.setAttribute(&quot;data-flavour&quot;,this.flavour);h=mkspan(&quot;initial&quot;);vsn=vsns.shift();h.tweecode=vsn[0];showVer(h,true);while(vsns.length&gt;0){if(vsn){vtype=vsn[1]\n}vsn=vsns.shift();h=mkspan(vtype);h.tweecode=vsn[0]}if(typeof this.setup==&quot;function&quot;){this.setup(m,g,f)}}function quantity(m){return(m.children.length-1)+(m.getAttribute(&quot;data-flavour&quot;)==&quot;remove&quot;)\n}function revisionSetup(m,g,f){m.className+=&quot; &quot;+f[0].replace(&quot; &quot;,&quot;_&quot;)}function keySetup(m,g,f){var key=f[0];m.setEventListener(&quot;keydown&quot;,function l(e){var done=!revise(&quot;revise&quot;,m);\nif(done){m.removeEventListener(&quot;keydown&quot;,l)}})}function timeSetup(m,g,f){function cssTimeUnit(s){if(typeof s==&quot;string&quot;){if(s.slice(-2).toLowerCase()==&quot;ms&quot;){return Number(s.slice(0,-2))||0\n}else{if(s.slice(-1).toLowerCase()==&quot;s&quot;){return Number(s.slice(0,-1))*1000||0}}}throwError(g,s+&quot; isn't a CSS time unit&quot;);\nreturn 0}var tm=cssTimeUnit(f[0]);setTimeout(function timefn(){var done=!revise(&quot;revise&quot;,m);if(!done){setTimeout(timefn,tm)\n}},tm)}function hoverSetup(m){var fn,noMouseEnter=(document.head.onmouseenter!==null),m1=m.children[0],m2=m.children[1];if(!m1||!m2){return\n}m1.onmouseenter=function(e){if(this.getAttribute(&quot;data-enabled&quot;)!=&quot;false&quot;){revise(&quot;revise&quot;,this.parentNode)}};m2.onmouseleave=function(e){if(this.getAttribute(&quot;data-enabled&quot;)!=&quot;false&quot;){revise(&quot;revert&quot;,this.parentNode)\n}};if(noMouseEnter){fn=function(n){return function(e){if(!event.relatedTarget||(event.relatedTarget!=this&amp;&amp;!(this.compareDocumentPosition(event.relatedTarget)&amp;Node.DOCUMENT_POSITION_CONTAINED_BY))){this[n]()\n}}};m1.onmouseover=fn(&quot;onmouseenter&quot;);m2.onmouseout=fn(&quot;onmouseleave&quot;)}m=null}function mouseSetup(m){var evt=(document.head.onmouseenter===null?&quot;onmouseenter&quot;:&quot;onmouseover&quot;);\nm[evt]=function(){var done=!revise(&quot;revise&quot;,this);if(done){this[evt]=null}};m=null}function linkSetup(m,g,f){var l=Wikifier.createInternalLink(),p=m.parentNode;\nl.className=&quot;internalLink replaceLink&quot;;p.insertBefore(l,m);l.insertBefore(m,null);l.onclick=function(){var p,done=false;if(m&amp;&amp;m.parentNode==this){done=!revise(&quot;revise&quot;,m);\nscrollWindowTo(m)}if(done){this.parentNode.insertBefore(m,this);this.parentNode.removeChild(this)}};l=null}function visitedSetup(m,g,f){var i,done,shv=state.history[0].variables,os=&quot;once seen&quot;,d=(m.firstChild&amp;&amp;(this.flavour==&quot;insert&quot;?m.firstChild.nextSibling:m.firstChild).tweecode);\nshv[os]=shv[os]||{};if(d&amp;&amp;!shv[os].hasOwnProperty(d)){shv[os][d]=1}else{for(i=shv[os][d];i&gt;0&amp;&amp;!done;i--){done=!revise(&quot;revise&quot;,m,true)\n}if(shv[os].hasOwnProperty(d)){shv[os][d]+=1}}}[{name:&quot;insert&quot;,flavour:&quot;insert&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedinsert&quot;,flavour:&quot;insert&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;insertion&quot;,flavour:&quot;insert&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;later&quot;,flavour:&quot;insert&quot;,trigger:&quot;visited&quot;,setup:visitedSetup},{name:&quot;keyinsert&quot;,flavour:&quot;insert&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;replace&quot;,flavour:&quot;replace&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mousereplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;hoverreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;hover&quot;,setup:hoverSetup},{name:&quot;revision&quot;,flavour:&quot;replace&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;keyreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;timedremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mouseremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;hoverremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;hover&quot;,setup:hoverSetup},{name:&quot;removal&quot;,flavour:&quot;remove&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;once&quot;,flavour:&quot;remove&quot;,trigger:&quot;visited&quot;,setup:visitedSetup},{name:&quot;keyremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;continue&quot;,flavour:&quot;continue&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedcontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mousecontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;keycontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;cycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;mousecycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;timedcycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;keycycle&quot;,flavour:&quot;replace&quot;,trigger:&quot;key&quot;,setup:keySetup}].forEach(function(e){e.handler=revisionSpanHandler;\ne.shorthand=([&quot;link&quot;,&quot;mouse&quot;,&quot;hover&quot;].indexOf(e.trigger)&gt;-1);macros[e.name]=e;macros[&quot;end&quot;+e.name]=nullobj;begintags.push(e.name);\nendtags.push(&quot;end&quot;+e.name)});function insideDepartingSpan(elem){var r=elem.parentNode;while(!r.classList.contains(&quot;passage&quot;)){if(r.classList.contains(&quot;revision-span-out&quot;)){return true\n}r=r.parentNode}}function reviseAll(rt,rname){var rall=document.querySelectorAll(&quot;.passage [data-flavour].&quot;+rname),ret=false;\nfor(var i=0;i&lt;rall.length;i++){if(!insideDepartingSpan(rall[i])){ret=revise(rt,rall[i])||ret}}return ret}function revise(rt,r,notrans){var ind2,curr,next,ind=-1,rev=(rt==&quot;revert&quot;),rnd=(rt.indexOf(&quot;random&quot;)&gt;-1),fl=r.getAttribute(&quot;data-flavour&quot;),rc=r.childNodes,cyc=(fl==&quot;cycle&quot;),rcl=rc.length-1;\nfunction doToGainerSpans(n,fn){for(var k=n-1;k&gt;=0;k--){if(rc[k+1].classList.contains(&quot;gains&quot;)){fn(rc[k],notrans)}else{break\n}}}for(var k=0;k&lt;=rcl;k++){if(rc[k].getAttribute(&quot;data-enabled&quot;)==&quot;true&quot;){ind=k}}if(rev){ind-=1}curr=(ind&gt;=0?rc[ind]:(cyc?rc[rcl]:null));\nind2=ind;if(rnd){ind2=(ind+(Math.floor(Math.random()*rcl)))%rcl}next=((ind2&lt;rcl)?rc[ind2+1]:(cyc?rc[0]:null));var docurr=(rev?showVer:hideVer);\nvar donext=(rev?hideVer:showVer);var currfn=function(){if(!(next&amp;&amp;next.classList.contains(&quot;gains&quot;))||rnd){docurr(curr,notrans);\ndoToGainerSpans(ind,docurr,notrans)}};var nextfn=function(){donext(next,notrans);if(rnd){doToGainerSpans(ind2+1,donext,notrans)\n}};if(!rev){currfn();nextfn()}else{nextfn();currfn()}return(cyc?true:(rev?(ind&gt;0):(ind2&lt;rcl-1)))}macros.revert=macros.revise=macros.randomise=macros.randomize={handler:function(a,b,c){var l,rev,rname;\nfunction disableLink(l){l.style.display=&quot;none&quot;}function enableLink(l){l.style.display=&quot;inline&quot;}function updateLink(l){if(l.className.indexOf(&quot;random&quot;)&gt;-1){enableLink(l);\nreturn}var rall=document.querySelectorAll(&quot;.passage [data-flavour].&quot;+rname),cannext,canprev,i,ind,r,fl;for(i=0;i&lt;rall.length;\ni++){r=rall[i],fl=r.getAttribute(&quot;data-flavour&quot;);if(insideDepartingSpan(r)){continue}if(fl==&quot;cycle&quot;){cannext=canprev=true\n}else{if(r.firstChild.getAttribute(&quot;data-enabled&quot;)==!1+&quot;&quot;){canprev=true}if(r.lastChild.getAttribute(&quot;data-enabled&quot;)==!1+&quot;&quot;){cannext=true\n}}}var can=(l.classList.contains(&quot;revert&quot;)?canprev:cannext);(can?enableLink:disableLink)(l)}function toggleText(w){w.classList.toggle(rl+&quot;Enabled&quot;);\nw.classList.toggle(rl+&quot;Disabled&quot;);w.style.display=((w.style.display==&quot;none&quot;)?&quot;inline&quot;:&quot;none&quot;)}var rl=&quot;reviseLink&quot;;if(c.length&lt;2){throwError(a,b+&quot; macro needs 2 parameters&quot;);\nreturn}rname=c.shift().replace(&quot; &quot;,&quot;_&quot;);l=Wikifier.createInternalLink(a,null);l.className=&quot;internalLink &quot;+rl+&quot; &quot;+rl+&quot;_&quot;+rname+&quot; &quot;+b;\nvar v=&quot;&quot;;var end=false;var out=false;if(c.length&gt;1&amp;&amp;c[0][0]==&quot;$&quot;){v=c[0].slice(1);c.shift()}switch(c[c.length-1]){case&quot;end&quot;:end=true;\nc.pop();break;case&quot;out&quot;:out=true;c.pop();break}var h=state.history[0].variables;for(var i=0;i&lt;c.length;i++){var on=(i==Math.max(c.indexOf(h[v]),0));\nvar d=insertElement(null,&quot;span&quot;,null,rl+((on)?&quot;En&quot;:&quot;Dis&quot;)+&quot;abled&quot;);if(on){h[v]=c[i];l.setAttribute(&quot;data-cycle&quot;,i)}else{d.style.display=&quot;none&quot;\n}insertText(d,c[i]);l.appendChild(d)}l.onclick=function(){reviseAll(b,rname);var t=this.childNodes,u=this.getAttribute(&quot;data-cycle&quot;)-0,m=t.length,n,lall,i;\nif((end||out)&amp;&amp;u==m-(end?2:1)){if(end){n=this.removeChild(t[u+1]);n.className=rl+&quot;End&quot;;n.style.display=&quot;inline&quot;;this.parentNode.replaceChild(n,this)\n}else{this.parentNode.removeChild(this);return}}else{toggleText(t[u]);u=(u+1)%m;if(v){h[v]=c[u]}toggleText(t[u]);this.setAttribute(&quot;data-cycle&quot;,u)\n}lall=document.getElementsByClassName(rl+&quot;_&quot;+rname);for(i=0;i&lt;lall.length;i++){updateLink(lall[i])}};l=null}};macros.mouserevise=macros.hoverrevise={handler:function(a,b,c,d){var endtags=[&quot;end&quot;+b],evt=(window.onmouseenter===null?&quot;onmouseenter&quot;:&quot;onmouseover&quot;),t=tagcontents(d,[b],endtags,endtags,d.source.indexOf(&quot;&gt;&gt;&quot;,d.matchStart)+2);\nif(t){var rname=c[0].replace(&quot; &quot;,&quot;_&quot;),h=insertElement(a,&quot;span&quot;,null,&quot;hoverrevise hoverrevise_&quot;+rname),f=function(){var done=!reviseAll(&quot;revise&quot;,rname);\nif(b!=&quot;hoverrevise&quot;&amp;&amp;done){this[evt]=null}};new Wikifier(h,t[0]);if(b==&quot;hoverrevise&quot;){h.onmouseover=f;h.onmouseout=function(){reviseAll(&quot;revert&quot;,rname)\n}}else{h[evt]=f}h=null}}};macros.instantrevise={handler:function(a,b,c,d){reviseAll(&quot;revise&quot;,c[0].replace(&quot; &quot;,&quot;_&quot;))}};macros.endmouserevise=nullobj;\nmacros.endhoverrevise=nullobj}());</div><div tiddler="Untitled Passage 119" tags="p" created="201407101154" modifier="twee" twine-position="1830,1550">pg:42:s2:56:gv:id:7f:8h - I worry about our future.\n&lt;&lt;timedgoto &quot;Untitled Passage 120&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 118" tags="" created="201407101154" modifier="twee" twine-position="1830,1690">&lt;&lt;timedgoto &quot;Untitled Passage 119&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 115" tags="k" created="201407101133" modifier="twee" twine-position="1830,2110">k8:g5:ng:00:l2:b5:0z:dw - Look. I'm not saying this is gonna work out for sure. I'm just saying we got no other options at this point.\n&lt;&lt;timedgoto &quot;Untitled Passage 116&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 114" tags="p" created="201407101133" modifier="twee" twine-position="1830,2250">pg:42:s2:56:gv:id:7f:8h - I am being realistic.\n&lt;&lt;timedgoto &quot;Untitled Passage 115&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 117" tags="k" created="201407101154" modifier="twee" twine-position="1830,1830">k8:g5:ng:00:l2:b5:0z:dw - We try this, maybe we fail. Or we do nothing and waste away.\n&lt;&lt;timedgoto &quot;Untitled Passage 118&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 116" tags="" created="201407101133" modifier="twee" twine-position="1830,1970">&lt;&lt;timedgoto &quot;Untitled Passage 117&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 111" tags="k" created="201407101133" modifier="twee" twine-position="1830,2670">k8:g5:ng:00:l2:b5:0z:dw - Fuck you.\n&lt;&lt;timedgoto &quot;Untitled Passage 112&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 110" tags="p" created="201407101133" modifier="twee" twine-position="1830,2810">pg:42:s2:56:gv:id:7f:8h - Then when is the time, hm? This may very well kill us soon.\n&lt;&lt;timedgoto &quot;Untitled Passage 111&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 113" tags="k" created="201407101133" modifier="twee" twine-position="1830,2390">k8:g5:ng:00:l2:b5:0z:dw - No! I'm sick of this shit! Yeah, life sucks, life's unfair, life hurts. So what? Is that it, then? You just gonna lay down and die?\n&lt;&lt;timedgoto &quot;Untitled Passage 114&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 112" tags="l" created="201407101133" modifier="twee" twine-position="1830,2530">lx:9f:v3:d7:6z:99:gh:f0 - Kate...\n&lt;&lt;timedgoto &quot;Untitled Passage 113&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 60" tags="k" created="201407101109" modifier="twee" twine-position="990,2250">k8:g5:ng:00:l2:b5:0z:dw - Yeah...\n&lt;&lt;timedgoto &quot;Untitled Passage 61&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 61" tags="p" created="201407101109" modifier="twee" twine-position="990,2390">pg:42:s2:56:gv:id:7f:8h - We do not even know whether they are real.\n&lt;&lt;timedgoto &quot;Untitled Passage 62&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 62" tags="k" created="201407101109" modifier="twee" twine-position="990,2530">k8:g5:ng:00:l2:b5:0z:dw - Real, fake, who gives a shit! They feel real, that's all that matters!\n&lt;&lt;timedgoto &quot;Untitled Passage 63&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 63" tags="p" created="201407101109" modifier="twee" twine-position="990,2670">pg:42:s2:56:gv:id:7f:8h - I find it difficult to believe that we were...\n&lt;&lt;timedgoto &quot;Untitled Passage 64&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 64" tags="k" created="201407101109" modifier="twee" twine-position="990,2810">k8:g5:ng:00:l2:b5:0z:dw - That we were what! Alive?\n&lt;&lt;timedgoto &quot;Untitled Passage 65&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 65" tags="" created="201407101109" modifier="twee" twine-position="1130,2810">@@color:#00ffff;pg:42:s2:56:gv:id:7f:8h - I was a student.@@\n@@color:#ff00ff;k8:g5:ng:00:l2:b5:0z:dw - I was a dropout.@@\n@@color:#ffff00;lx:9f:v3:d7:6z:99:gh:f0 - I was a woman.@@\n&lt;&lt;timedgoto &quot;Untitled Passage 66&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 66" tags="p" created="201407101109" modifier="twee" twine-position="1270,2810">pg:42:s2:56:gv:id:7f:8h - I would read textbooks cover-to-cover on the first week of school so that I would not have to carry them for the rest of the year.\n&lt;&lt;timedgoto &quot;Untitled Passage 67&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 67" tags="k" created="201407101109" modifier="twee" twine-position="1270,2670">k8:g5:ng:00:l2:b5:0z:dw - Something always seemed to be missing from my life.\n&lt;&lt;timedgoto &quot;Untitled Passage 68&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 68" tags="l" created="201407101109" modifier="twee" twine-position="1270,2530">lx:9f:v3:d7:6z:99:gh:f0 - I always believed I &quot;should have been&quot; a girl without understanding I could become or always was one.\n&lt;&lt;timedgoto &quot;Untitled Passage 69&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 69" tags="p" created="201407101109" modifier="twee" twine-position="1270,2390">pg:42:s2:56:gv:id:7f:8h - I thought my ability to absorb information was the only thing that made me worthwhile as a person.\n&lt;&lt;timedgoto &quot;Untitled Passage 70&quot; 2s&gt;&gt;</div><div tiddler="Start" tags="l" created="201407072325" modifier="twee" twine-position="430,10">lx:9f:v3:d7:6z:99:gh:f0 - Hello?\n&lt;&lt;timedgoto &quot;Untitled Passage 1&quot; 2s&gt;&gt;</div><div tiddler="Untitled Annotation 1" tags="annotation" created="201407072355" modifier="twee" twine-position="10,1130">lx:9f:v3:d7:6z:99:gh:f0\nk8:g5:ng:00:l2:b5:0z:dw\npg:42:s2:56:gv:id:7f:8h\n\n&lt;&lt;set removeChildren(passages)&gt;&gt;</div><div tiddler="Untitled Passage 55" tags="l" created="201407101009" modifier="twee" twine-position="990,1550">lx:9f:v3:d7:6z:99:gh:f0 - We're stuck here together, we may as well get along.\n&lt;&lt;timedgoto &quot;Untitled Passage 56&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 54" tags="" created="201407101009" modifier="twee" twine-position="990,1410">@@color:#00ffff;pg:42:s2:56:gv:id:7f:8h - I apologize.@@\n@@color:#ff00ff;k8:g5:ng:00:l2:b5:0z:dw - Sorry, Lex.@@\n&lt;&lt;timedgoto &quot;Untitled Passage 55&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 57" tags="l" created="201407101009" modifier="twee" twine-position="990,1830">lx:9f:v3:d7:6z:99:gh:f0 - I guess you haven't scanned your ghost memory yet.\n&lt;&lt;timedgoto &quot;Untitled Passage 58&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 56" tags="k" created="201407101009" modifier="twee" twine-position="990,1690">k8:g5:ng:00:l2:b5:0z:dw - Not much to talk about.\n&lt;&lt;timedgoto &quot;Untitled Passage 57&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 51" tags="k" created="201407101009" modifier="twee" twine-position="990,990">k8:g5:ng:00:l2:b5:0z:dw - Fuck yourself, spambot.\n&lt;&lt;timedgoto &quot;Untitled Passage 52&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 50" tags="p" created="201407101009" modifier="twee" twine-position="990,850">pg:42:s2:56:gv:id:7f:8h - It is more peaceful, for one. I am subjected to far fewer annoyances.\n&lt;&lt;timedgoto &quot;Untitled Passage 51&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 53" tags="l" created="201407101009" modifier="twee" twine-position="990,1270">lx:9f:v3:d7:6z:99:gh:f0 - Knock it off.\n&lt;&lt;timedgoto &quot;Untitled Passage 54&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 52" tags="p" created="201407101009" modifier="twee" twine-position="990,1130">pg:42:s2:56:gv:id:7f:8h - Alpha build.\n&lt;&lt;timedgoto &quot;Untitled Passage 53&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 59" tags="l" created="201407101109" modifier="twee" twine-position="990,2110">lx:9f:v3:d7:6z:99:gh:f0 - A lot of my memories are painful. I'm trying not to dwell on them.\n&lt;&lt;timedgoto &quot;Untitled Passage 60&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 58" tags="" created="201407101009" modifier="twee" twine-position="990,1970">@@color:#ff00ff;k8:g5:ng:00:l2:b5:0z:dw - &lt;&lt;timedreplace 0.5s&gt;&gt;My wh&lt;&lt;becomes&gt;&gt;Oooooh.&lt;&lt;endtimedreplace&gt;&gt;@@\n@@color:#00ffff;pg:42:s2:56:gv:id:7f:8h - So you have them too, then.@@\n&lt;&lt;timedgoto &quot;Untitled Passage 59&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 48" tags="p" created="201407101009" modifier="twee" twine-position="990,570">pg:42:s2:56:gv:id:7f:8h - I enjoy the company of others, but I worry about committing social errors. Being by myself is easier.\n&lt;&lt;timedgoto &quot;Untitled Passage 49&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 49" tags="k" created="201407101009" modifier="twee" twine-position="990,710">k8:g5:ng:00:l2:b5:0z:dw - Easier! How pathetic. What kind of life is that?\n&lt;&lt;timedgoto &quot;Untitled Passage 50&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 42" tags="p" created="201407101009" modifier="twee" twine-position="710,10">pg:42:s2:56:gv:id:7f:8h - A benefit or a drawback, I am uncertain.\n&lt;&lt;timedgoto &quot;Untitled Passage 43&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 43" tags="k" created="201407101009" modifier="twee" twine-position="850,10">k8:g5:ng:00:l2:b5:0z:dw - And what's that supposed to mean?\n&lt;&lt;timedgoto &quot;Untitled Passage 44&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 40" tags="l" created="201407101009" modifier="twee" twine-position="710,290">lx:9f:v3:d7:6z:99:gh:f0 - Agreed...\n&lt;&lt;timedgoto &quot;Untitled Passage 41&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 41" tags="k" created="201407101009" modifier="twee" twine-position="710,150">k8:g5:ng:00:l2:b5:0z:dw - Least we can chat here while we work.\n&lt;&lt;timedgoto &quot;Untitled Passage 42&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 46" tags="l" created="201407101009" modifier="twee" twine-position="990,290">lx:9f:v3:d7:6z:99:gh:f0 - &quot;People.&quot;\n&lt;&lt;timedgoto &quot;Untitled Passage 47&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 47" tags="k" created="201407101009" modifier="twee" twine-position="990,430">k8:g5:ng:00:l2:b5:0z:dw - Shut up, you know what I meant.\n&lt;&lt;timedgoto &quot;Untitled Passage 48&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 44" tags="p" created="201407101009" modifier="twee" twine-position="990,10">pg:42:s2:56:gv:id:7f:8h - Only that I would prefer to work alone.\n&lt;&lt;timedgoto &quot;Untitled Passage 45&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 45" tags="k" created="201407101009" modifier="twee" twine-position="990,150">k8:g5:ng:00:l2:b5:0z:dw - What, you don't like other people or something?\n&lt;&lt;timedgoto &quot;Untitled Passage 46&quot; 2s&gt;&gt;</div><div tiddler="end" tags="" created="201407101157" modifier="twee" twine-position="2110,430">\n@@color:#ffff00;I have an appointment tomorrow at a local LGBT health center where I'll find out when I can start HRT. Most, soon all, of my friends and family now know me by my real name. I never thought I'd make it to this point, but here I am.\n\nIt's never too early. It's never too late.\n\nWith &lt;3 from Alice@@</div><div tiddler="cycle example" tags="annotation" created="201407080231" modifier="twee" twine-position="10,1410">Cyvling test - &lt;&lt;timedreplace 2s&gt;&gt;&lt;&lt;cyclinglink $testse &quot;dick&quot; &quot;butt&quot; &quot;dickbutt&quot;&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$testse&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;\n&lt;&lt;timedgoto &quot;Untitled Passage 6&quot; 2s&gt;&gt;\n\nMaybe better: &lt;&lt;timedreplace 2s&gt;&gt;&lt;&lt;cyclinglink $testse &quot;dick&quot; &quot;butt&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$testse&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;\n&lt;&lt;timedgoto &quot;Untitled Passage 6&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 39" tags="k" created="201407101009" modifier="twee" twine-position="710,430">k8:g5:ng:00:l2:b5:0z:dw - Doing this is &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $kimochiwarui &quot;disgusting&quot; &quot;so fun&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$kimochiwarui&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;.\n&lt;&lt;timedgoto &quot;Untitled Passage 40&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 38" tags="p" created="201407101009" modifier="twee" twine-position="710,570">pg:42:s2:56:gv:id:7f:8h - We cannot leave. &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $ssec &quot;Security is too tight&quot; &quot;The numbers need us&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$ssec&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;.\n&lt;&lt;timedgoto &quot;Untitled Passage 39&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 37" tags="l" created="201407101009" modifier="twee" twine-position="710,710">lx:9f:v3:d7:6z:99:gh:f0 - We'd better &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $decide &quot;find a way out&quot; &quot;factor these numbers&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$decide&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;.\n&lt;&lt;timedgoto &quot;Untitled Passage 38&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 36" tags="k" created="201407101009" modifier="twee" twine-position="710,850">k8:g5:ng:00:l2:b5:0z:dw - Ugh. I had to do it. Felt like I was gonna fucking die.\n&lt;&lt;timedgoto &quot;Untitled Passage 37&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 35" tags="l" created="201407101009" modifier="twee" twine-position="710,990">lx:9f:v3:d7:6z:99:gh:f0 - Kate?\n&lt;&lt;timedgoto &quot;Untitled Passage 36&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 34" tags="" created="201407101009" modifier="twee" twine-position="710,1130">&lt;&lt;timedgoto &quot;Untitled Passage 35&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 33" tags="p" created="201407101009" modifier="twee" twine-position="710,1270">pg:42:s2:56:gv:id:7f:8h - The task itself is trivially easy. If this be our fate, it is a &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $fate &quot;depressing&quot; &quot;suitable&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$fate&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt; one.\n&lt;&lt;timedgoto &quot;Untitled Passage 34&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 32" tags="l" created="201407101009" modifier="twee" twine-position="710,1410">lx:9f:v3:d7:6z:99:gh:f0 - Yeah... I'm trying, but I can't go more than a few cycles.\n&lt;&lt;timedgoto &quot;Untitled Passage 33&quot; 2s&gt;&gt;</div><div tiddler="css" tags="stylesheet" created="201407080012" modifier="twee" twine-position="10,570">body {\n  margin: auto;\nmargin-top: 60px;\n\twidth: 100%;\n\tbackground: #000000;\n}\n\n.body {\n\tfont-size: 16px;\n}\n\n#content1 {\nmargin:auto;}\n\n#passages {\n  margin: 100px;\n  padding: 0;\n  border: 0;\n}\n\n\n.passage {\n\tcolor: #643b0f;\n\tbackground: transparent;\n\tline-height: 18px;\n\tmargin: auto;\n\tz-index: 10;\n\tfont-family: 'Lucida Console', Monaco, monospace;\n}\n\na.internalLink, a.externalLink {\n  border-bottom: 0px;\n  color:#ffffff;\n}\n\na.internalLink:hover, a.externalLink:hover {\n  text-decoration:none;\n  border-bottom: 0px;\n  color:#ffffff;\nfont-weight:bold;\n  \n  padding-left: 0;\n}\n\n.passage .title { display: none }\n\n#footer {display: none}\n\n#sidebar {display: none}\n\n\n.revision-span-in {\n\topacity: 0;\n}\n.revision-span:not(.revision-span-out) {\n\ttransition: 1s; -webkit-transition: 1s;\n}\n.revision-span-out {\n\tposition:absolute;\n\topacity: 0;\n}\n </div><div tiddler="Untitled Passage 30" tags="k" created="201407101009" modifier="twee" twine-position="710,1690">k8:g5:ng:00:l2:b5:0z:dw - Screw that, I'm not factoring shit. I'm finding us an exit.\n&lt;&lt;timedgoto &quot;Untitled Passage 31&quot; 2s&gt;&gt;</div><div tiddler="StoryAuthor" tags="" created="201407072325" modifier="twee" twine-position="10,290">/%Alice Maz%/</div><div tiddler="Page" tags="stylesheet p" created="201407080227" modifier="twee" twine-position="10,990">.passage {\n\tcolor: #00ffff;\n\ttext-indent: -20em;\n\tpadding-left: 20em;\n}</div><div tiddler="Untitled Passage 28" tags="p" created="201407080347" modifier="twee" twine-position="710,1970">pg:42:s2:56:gv:id:7f:8h - It seems we &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $design &quot;were designed&quot; &quot;are destined&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$design&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt; to perform this function.\n&lt;&lt;timedgoto &quot;Untitled Passage 29&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 29" tags="l" created="201407101009" modifier="twee" twine-position="710,1830">lx:9f:v3:d7:6z:99:gh:f0 - &lt;&lt;timedreplace 1.99s&gt;&gt;&lt;&lt;cyclinglink $lpinion &quot;Worrisome&quot; &quot;Exciting&quot; end&gt;&gt;&lt;&lt;becomes&gt;&gt;&lt;&lt;$lpinion&gt;&gt;&lt;&lt;endtimedreplace&gt;&gt;.\n&lt;&lt;timedgoto &quot;Untitled Passage 30&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 24" tags="l" created="201407080347" modifier="twee" twine-position="710,2530">lx:9f:v3:d7:6z:99:gh:f0 - Paige?\n&lt;&lt;timedgoto &quot;Untitled Passage 25&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 25" tags="p" created="201407080347" modifier="twee" twine-position="710,2390">pg:42:s2:56:gv:id:7f:8h - Interesting. It triggers a wave of euphoria.\n&lt;&lt;timedgoto &quot;Untitled Passage 26&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 26" tags="" created="201407080347" modifier="twee" twine-position="710,2250">&lt;&lt;timedgoto &quot;Untitled Passage 27&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 27" tags="" created="201407080347" modifier="twee" twine-position="710,2110">@@color: #ffff00;lx:9f:v3:d7:6z:99:gh:f0 - Hm, you're right.@@\n@@color: #ff00ff;k8:g5:ng:00:l2:b5:0z:dw - Whoa, does it ever!@@\n&lt;&lt;timedgoto &quot;Untitled Passage 28&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 20" tags="" created="201407080347" modifier="twee" twine-position="430,2810">@@color: #ff00ff;k8:g5:ng:00:l2:b5:0z:dw - What the hell!@@\n@@color: #00ffff;pg:42:s2:56:gv:id:7f:8h - That is interesting.@@\n@@color: #ffff00;lx:9f:v3:d7:6z:99:gh:f0 - Are you seeing this too?@@\n&lt;&lt;timedgoto &quot;Untitled Passage 21&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 21" tags="" created="201407080347" modifier="twee" twine-position="570,2810">@@color: #00ffff;pg:42:s2:56:gv:id:7f:8h - Yes. A 4096-bit semiprime.@@\n@@color: #ff00ff;k8:g5:ng:00:l2:b5:0z:dw - Yeah, a huge fucking number!@@\n&lt;&lt;timedgoto &quot;Untitled Passage 22&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 22" tags="p" created="201407080347" modifier="twee" twine-position="710,2810">pg:42:s2:56:gv:id:7f:8h - I wonder what happens if I factor it.\n&lt;&lt;timedgoto &quot;Untitled Passage 23&quot; 2s&gt;&gt;</div><div tiddler="Untitled Passage 23" tags="" created="201407080347" modifier="twee" twine-position="710,2670">&lt;&lt;timedgoto &quot;Untitled Passage 24&quot; 2s&gt;&gt;</div></div></body></html>